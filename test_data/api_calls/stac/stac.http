
###

# @name anonymousSession
POST http://localhost:3030/api/anonymous
Content-Type: application/json

### 

# @name workflow
POST http://localhost:3030/api/workflow
Authorization: Bearer {{anonymousSession.response.body.$.id}}
Content-Type: application/json

{
  "type": "Raster",
  "operator": {
    "type": "MultiBandGdalSource",
    "params": {
      "data": "Sentinal2-UTM32N_10m"
    }
  }
}

### 

@workflowId = {{workflow.response.body.$.id}}
@crs = EPSG:32630
@width = 5490
@height = 5490
@time = 2020-12-31T00%3A00%3A00.000Z

@minx = 699960.0000000000000000
@miny = 3990240.0000000000000000

@maxx = 809760.0000000000000000
@maxy = 4100040.0000000000000000

@colorizer_min = 0
@colorizer_max = 2000
@band = 2
@styles = custom%3A%7B%22type%22%3A%22singleBand%22%2C%22band%22%3A{{band}}%2C%22bandColorizer%22%3A%7B%22type%22%3A%22linearGradient%22%2C%22breakpoints%22%3A%5B%7B%22value%22%3A{{colorizer_min}}%2C%22color%22%3A%5B0%2C0%2C0%2C255%5D%7D%2C%7B%22value%22%3A{{colorizer_max}}%2C%22color%22%3A%5B255%2C255%2C255%2C255%5D%7D%5D%2C%22noDataColor%22%3A%5B0%2C0%2C0%2C0%5D%2C%22overColor%22%3A%5B246%2C250%2C254%2C255%5D%2C%22underColor%22%3A%5B247%2C251%2C255%2C255%5D%7D%7D

GET http://localhost:3030/api/wms/{{workflowId}}?REQUEST=GetMap&SERVICE=WMS&VERSION=1.3.0&FORMAT=image%2Fpng&STYLES={{styles}}&TRANSPARENT=true&layers={{workflowId}}&time={{time}}&EXCEPTIONS=application%2Fjson&WIDTH={{width}}&HEIGHT={{height}}&CRS={{crs}}&BBOX={{minx}}%2C{{miny}}%2C{{maxx}}%2C{{maxy}}
Authorization: Bearer {{anonymousSession.response.body.$.id}}

