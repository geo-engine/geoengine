{
  "openapi": "3.1.0",
  "info": {
    "title": "Geo Engine API",
    "description": "",
    "contact": {
      "name": "Geo Engine Developers",
      "email": "dev@geoengine.de"
    },
    "license": {
      "name": "Apache-2.0",
      "url": "https://github.com/geo-engine/geoengine/blob/main/LICENSE"
    },
    "version": "0.8.0"
  },
  "servers": [
    {
      "url": "{server}/api",
      "variables": {
        "server": {
          "default": "https://geoengine.io"
        }
      }
    }
  ],
  "paths": {
    "/anonymous": {
      "post": {
        "tags": [
          "Session"
        ],
        "summary": "Creates session for anonymous user. The session's id serves as a Bearer token for requests.",
        "operationId": "anonymous_handler",
        "responses": {
          "200": {
            "description": "The created session",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserSession"
                },
                "example": {
                  "id": "208fa24e-7a92-4f57-a3fe-d1177d9f18ad",
                  "user": {
                    "id": "5b4466d2-8bab-4ed8-a182-722af3c80958",
                    "email": null,
                    "realName": null
                  },
                  "created": "2021-04-26T13:47:10.579724800Z",
                  "validUntil": "2021-04-26T14:47:10.579775400Z",
                  "project": null,
                  "view": null,
                  "roles": [
                    "8a27e61f-cc4d-4d0b-ae8c-4f1c91d07f5a",
                    "fd8e87bf-515c-4f36-8da6-1a53702ff102"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/available": {
      "get": {
        "tags": [
          "General"
        ],
        "summary": "Server availablity check.",
        "operationId": "available_handler",
        "responses": {
          "204": {
            "description": "Server availablity check"
          }
        }
      }
    },
    "/dataset": {
      "post": {
        "tags": [
          "Datasets"
        ],
        "summary": "Creates a new dataset referencing files.\nUsers can reference previously uploaded files.\nAdmins can reference files from a volume.",
        "operationId": "create_dataset_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDataset"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatasetNameResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/dataset/auto": {
      "post": {
        "tags": [
          "Datasets"
        ],
        "summary": "Creates a new dataset using previously uploaded files.\nThe format of the files will be automatically detected when possible.",
        "operationId": "auto_create_dataset_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AutoCreateDataset"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatasetNameResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "Body is invalid json": {
                    "value": {
                      "error": "BodyDeserializeError",
                      "message": "expected `,` or `}` at line 13 column 7"
                    }
                  },
                  "Dataset has no auto-importable layer": {
                    "value": {
                      "error": "DatasetHasNoAutoImportableLayer",
                      "message": "Dataset has no auto importable layer"
                    }
                  },
                  "Dataset name is empty": {
                    "value": {
                      "error": "InvalidDatasetName",
                      "message": "Invalid dataset name"
                    }
                  },
                  "Failed to read body": {
                    "value": {
                      "error": "Payload",
                      "message": "Error that occur during reading payload: Can not decode content-encoding."
                    }
                  },
                  "File does not exist": {
                    "value": {
                      "error": "GdalError",
                      "message": "GdalError: GDAL method 'GDALOpenEx' returned a NULL pointer. Error msg: 'upload/0bdd1062-7796-4d44-a655-e548144281a6/asdf: No such file or directory'"
                    }
                  },
                  "Referenced an unknown upload": {
                    "value": {
                      "error": "UnknownUploadId",
                      "message": "Unknown upload id"
                    }
                  },
                  "Upload filename is invalid": {
                    "value": {
                      "error": "InvalidUploadFileName",
                      "message": "Invalid upload file name"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedUserResponse"
          },
          "413": {
            "$ref": "#/components/responses/PayloadTooLargeResponse"
          },
          "415": {
            "$ref": "#/components/responses/UnsupportedMediaTypeForJsonResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/dataset/suggest": {
      "post": {
        "tags": [
          "Datasets"
        ],
        "summary": "Inspects an upload and suggests metadata that can be used when creating a new dataset based on it.\nTries to automatically detect the main file and layer name if not specified.",
        "operationId": "suggest_meta_data_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SuggestMetaData"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MetaDataSuggestion"
                },
                "example": {
                  "mainFile": "germany_polygon.gpkg",
                  "metaData": {
                    "type": "OgrMetaData",
                    "loadingInfo": {
                      "fileName": "upload/23c9ea9e-15d6-453b-a243-1390967a5669/germany_polygon.gpkg",
                      "layerName": "test_germany",
                      "dataType": "MultiPolygon",
                      "time": {
                        "type": "none"
                      },
                      "defaultGeometry": null,
                      "columns": {
                        "formatSpecifics": null,
                        "x": "",
                        "y": null,
                        "int": [],
                        "float": [],
                        "text": [],
                        "bool": [],
                        "datetime": [],
                        "rename": null
                      },
                      "forceOgrTimeFilter": false,
                      "forceOgrSpatialFilter": false,
                      "onError": "ignore",
                      "sqlQuery": null,
                      "attributeQuery": null
                    },
                    "resultDescriptor": {
                      "dataType": "MultiPolygon",
                      "spatialReference": "EPSG:4326",
                      "columns": {},
                      "time": null,
                      "bbox": null
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "Dataset has no auto-importable layer": {
                    "value": {
                      "error": "DatasetHasNoAutoImportableLayer",
                      "message": "Dataset has no auto importable layer"
                    }
                  },
                  "File does not exist": {
                    "value": {
                      "error": "GdalError",
                      "message": "GdalError: GDAL method 'GDALOpenEx' returned a NULL pointer. Error msg: 'upload/0bdd1062-7796-4d44-a655-e548144281a6/asdf: No such file or directory'"
                    }
                  },
                  "Missing field in query string": {
                    "value": {
                      "error": "UnableToParseQueryString",
                      "message": "Unable to parse query string: missing field `offset`"
                    }
                  },
                  "No suitable mainfile found": {
                    "value": {
                      "error": "NoMainFileCandidateFound",
                      "message": "No main file candidate found"
                    }
                  },
                  "Number in query string contains letters": {
                    "value": {
                      "error": "UnableToParseQueryString",
                      "message": "Unable to parse query string: invalid digit found in string"
                    }
                  },
                  "Referenced an unknown upload": {
                    "value": {
                      "error": "UnknownUploadId",
                      "message": "Unknown upload id"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedUserResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/dataset/volumes": {
      "get": {
        "tags": [
          "Datasets"
        ],
        "summary": "Lists available volumes.",
        "operationId": "list_volumes_handler",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Volume"
                  }
                },
                "example": [
                  {
                    "name": "test_data",
                    "path": "./test_data/"
                  }
                ]
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedAdminResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/dataset/volumes/{volume_name}/files/{file_name}/layers": {
      "get": {
        "tags": [
          "Datasets"
        ],
        "summary": "List the layers of a file in a volume.",
        "operationId": "list_volume_file_layers_handler",
        "parameters": [
          {
            "name": "volume_name",
            "in": "path",
            "description": "Volume name",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/VolumeName"
            }
          },
          {
            "name": "file_name",
            "in": "path",
            "description": "File name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VolumeFileLayersResponse"
                },
                "example": {
                  "layers": [
                    "layer1",
                    "layer2"
                  ]
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/dataset/{dataset}": {
      "get": {
        "tags": [
          "Datasets"
        ],
        "summary": "Retrieves details about a dataset using the internal name.",
        "operationId": "get_dataset_handler",
        "parameters": [
          {
            "name": "dataset",
            "in": "path",
            "description": "Dataset Name",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/DatasetName"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Dataset"
                },
                "example": {
                  "id": {
                    "internal": "9c874b9e-cea0-4553-b727-a13cb26ae4bb"
                  },
                  "name": "Germany",
                  "description": "Boundaries of Germany",
                  "resultDescriptor": {
                    "vector": {
                      "dataType": "MultiPolygon",
                      "spatialReference": "EPSG:4326",
                      "columns": {}
                    }
                  },
                  "sourceOperator": "OgrSource"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "Referenced an unknown dataset": {
                    "value": {
                      "error": "CannotLoadDataset",
                      "message": "CannotLoadDataset: UnknownDatasetName"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedUserResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      },
      "post": {
        "tags": [
          "Datasets"
        ],
        "summary": "Update details about a dataset using the internal name.",
        "operationId": "update_dataset_handler",
        "parameters": [
          {
            "name": "dataset",
            "in": "path",
            "description": "Dataset Name",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/DatasetName"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateDataset"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "Referenced an unknown dataset": {
                    "value": {
                      "error": "CannotLoadDataset",
                      "message": "CannotLoadDataset: UnknownDatasetName"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedUserResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Datasets"
        ],
        "summary": "Delete a dataset",
        "operationId": "delete_dataset_handler",
        "parameters": [
          {
            "name": "dataset",
            "in": "path",
            "description": "Dataset id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/DatasetName"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "Given dataset can only be deleted by owner": {
                    "value": {
                      "error": "OperationRequiresOwnerPermission",
                      "message": "Operation requires owner permission"
                    }
                  },
                  "Referenced an unknown dataset": {
                    "value": {
                      "error": "UnknownDatasetName",
                      "message": "Unknown dataset name"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedUserResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/dataset/{dataset}/loadingInfo": {
      "get": {
        "tags": [
          "Datasets"
        ],
        "summary": "Retrieves the loading information of a dataset",
        "operationId": "get_loading_info_handler",
        "parameters": [
          {
            "name": "dataset",
            "in": "path",
            "description": "Dataset Name",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/DatasetName"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MetaDataDefinition"
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      },
      "put": {
        "tags": [
          "Datasets"
        ],
        "summary": "Updates the dataset's loading info",
        "operationId": "update_loading_info_handler",
        "parameters": [
          {
            "name": "dataset",
            "in": "path",
            "description": "Dataset Name",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/DatasetName"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MetaDataDefinition"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedUserResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/dataset/{dataset}/provenance": {
      "put": {
        "tags": [
          "Datasets"
        ],
        "operationId": "update_dataset_provenance_handler",
        "parameters": [
          {
            "name": "dataset",
            "in": "path",
            "description": "Dataset Name",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/DatasetName"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Provenances"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedUserResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/dataset/{dataset}/symbology": {
      "put": {
        "tags": [
          "Datasets"
        ],
        "summary": "Updates the dataset's symbology",
        "operationId": "update_dataset_symbology_handler",
        "parameters": [
          {
            "name": "dataset",
            "in": "path",
            "description": "Dataset Name",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/DatasetName"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Symbology"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedUserResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/datasetFromWorkflow/{id}": {
      "post": {
        "tags": [
          "Workflows"
        ],
        "summary": "Create a task for creating a new dataset from the result of the workflow given by its `id` and the dataset parameters in the request body.\nReturns the id of the created task",
        "operationId": "dataset_from_workflow_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Workflow id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WorkflowId"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RasterDatasetFromWorkflow"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Id of created task",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskResponse"
                },
                "example": {
                  "taskId": "7f8a4cfe-76ab-4972-b347-b197e5ef0f3c"
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/datasets": {
      "get": {
        "tags": [
          "Datasets"
        ],
        "summary": "Lists available datasets.",
        "operationId": "list_datasets_handler",
        "parameters": [
          {
            "name": "filter",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "Germany"
          },
          {
            "name": "order",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/OrderBy"
            },
            "example": "NameAsc"
          },
          {
            "name": "offset",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            "example": 0
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            "example": 2
          },
          {
            "name": "tags",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "example": "['tag1', 'tag2']"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DatasetListing"
                  }
                },
                "example": [
                  {
                    "id": {
                      "internal": "9c874b9e-cea0-4553-b727-a13cb26ae4bb"
                    },
                    "name": "Germany",
                    "description": "Boundaries of Germany",
                    "tags": [],
                    "sourceOperator": "OgrSource",
                    "resultDescriptor": {
                      "vector": {
                        "dataType": "MultiPolygon",
                        "spatialReference": "EPSG:4326",
                        "columns": {}
                      }
                    }
                  }
                ]
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestQueryResponse"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedUserResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/info": {
      "get": {
        "tags": [
          "General"
        ],
        "summary": "Shows information about the server software version.",
        "operationId": "server_info_handler",
        "responses": {
          "200": {
            "description": "Server software information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServerInfo"
                },
                "example": {
                  "buildDate": "2022-09-29",
                  "commitHash": "555dc6d84d3682c37490a145d53c5097d0b81b27",
                  "version": "0.7.0",
                  "features": "default"
                }
              }
            }
          }
        }
      }
    },
    "/layerDb/collections/{collection}": {
      "put": {
        "tags": [
          "Layers"
        ],
        "summary": "Update a collection",
        "operationId": "update_collection",
        "parameters": [
          {
            "name": "collection",
            "in": "path",
            "description": "Layer collection id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerCollectionId"
            },
            "example": "05102bb3-a855-4a37-8a8a-30026a91fef1"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateLayerCollection"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Layers"
        ],
        "summary": "Remove a collection",
        "operationId": "remove_collection",
        "parameters": [
          {
            "name": "collection",
            "in": "path",
            "description": "Layer collection id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerCollectionId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/layerDb/collections/{collection}/collections": {
      "post": {
        "tags": [
          "Layers"
        ],
        "summary": "Add a new collection to an existing collection",
        "operationId": "add_collection",
        "parameters": [
          {
            "name": "collection",
            "in": "path",
            "description": "Layer collection id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerCollectionId"
            },
            "example": "05102bb3-a855-4a37-8a8a-30026a91fef1"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddLayerCollection"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/IdResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/layerDb/collections/{collection}/layers": {
      "post": {
        "tags": [
          "Layers"
        ],
        "summary": "Add a new layer to a collection",
        "operationId": "add_layer",
        "parameters": [
          {
            "name": "collection",
            "in": "path",
            "description": "Layer collection id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerCollectionId"
            },
            "example": "05102bb3-a855-4a37-8a8a-30026a91fef1"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddLayer"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/IdResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/layerDb/collections/{collection}/layers/{layer}": {
      "post": {
        "tags": [
          "Layers"
        ],
        "summary": "Add an existing layer to a collection",
        "operationId": "add_existing_layer_to_collection",
        "parameters": [
          {
            "name": "collection",
            "in": "path",
            "description": "Layer collection id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerCollectionId"
            }
          },
          {
            "name": "layer",
            "in": "path",
            "description": "Layer id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Layers"
        ],
        "summary": "Remove a layer from a collection",
        "operationId": "remove_layer_from_collection",
        "parameters": [
          {
            "name": "collection",
            "in": "path",
            "description": "Layer collection id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerCollectionId"
            }
          },
          {
            "name": "layer",
            "in": "path",
            "description": "Layer id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/layerDb/collections/{parent}/collections/{collection}": {
      "post": {
        "tags": [
          "Layers"
        ],
        "summary": "Add an existing collection to a collection",
        "operationId": "add_existing_collection_to_collection",
        "parameters": [
          {
            "name": "parent",
            "in": "path",
            "description": "Parent layer collection id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerCollectionId"
            },
            "example": "05102bb3-a855-4a37-8a8a-30026a91fef1"
          },
          {
            "name": "collection",
            "in": "path",
            "description": "Layer collection id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Layers"
        ],
        "summary": "Delete a collection from a collection",
        "operationId": "remove_collection_from_collection",
        "parameters": [
          {
            "name": "parent",
            "in": "path",
            "description": "Parent layer collection id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerCollectionId"
            },
            "example": "05102bb3-a855-4a37-8a8a-30026a91fef1"
          },
          {
            "name": "collection",
            "in": "path",
            "description": "Layer collection id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/layerDb/layers/{layer}": {
      "put": {
        "tags": [
          "Layers"
        ],
        "summary": "Update a layer",
        "operationId": "update_layer",
        "parameters": [
          {
            "name": "layer",
            "in": "path",
            "description": "Layer id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerId"
            },
            "example": "05102bb3-a855-4a37-8a8a-30026a91fef1"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateLayer"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Layers"
        ],
        "summary": "Remove a collection",
        "operationId": "remove_layer",
        "parameters": [
          {
            "name": "layer",
            "in": "path",
            "description": "Layer id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/layers/collections": {
      "get": {
        "tags": [
          "Layers"
        ],
        "summary": "List all layer collections",
        "operationId": "list_root_collections_handler",
        "parameters": [
          {
            "name": "offset",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            "example": 0
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            "example": 20
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LayerCollection"
                },
                "example": {
                  "id": {
                    "providerId": "1c3b8042-300b-485c-95b5-0147d9dc068d",
                    "collectionId": "f2424474-ef24-4c18-ab84-68592e12ce48"
                  },
                  "name": "Layer Providers",
                  "description": "All available Geo Engine layer providers",
                  "items": [
                    {
                      "type": "collection",
                      "id": {
                        "providerId": "ac50ed0d-c9a0-41f8-9ce8-35fc9e38299b",
                        "collectionId": "546073b6-d535-4205-b601-99675c9f6dd7"
                      },
                      "name": "Datasets",
                      "description": "Basic Layers for all Datasets"
                    },
                    {
                      "type": "collection",
                      "id": {
                        "providerId": "ce5e84db-cbf9-48a2-9a32-d4b7cc56ea74",
                        "collectionId": "05102bb3-a855-4a37-8a8a-30026a91fef1"
                      },
                      "name": "Layers",
                      "description": "All available Geo Engine layers"
                    }
                  ],
                  "entryLabel": null,
                  "properties": []
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/layers/collections/search/autocomplete/{provider}/{collection}": {
      "get": {
        "tags": [
          "Layers"
        ],
        "summary": "Autocompletes the search on the contents of the collection of the given provider",
        "operationId": "autocomplete_handler",
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "description": "Data provider id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/DataProviderId"
            },
            "example": "ce5e84db-cbf9-48a2-9a32-d4b7cc56ea74"
          },
          {
            "name": "collection",
            "in": "path",
            "description": "Layer collection id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerCollectionId"
            },
            "example": "05102bb3-a855-4a37-8a8a-30026a91fef1"
          },
          {
            "name": "searchType",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/SearchType"
            },
            "example": "fulltext"
          },
          {
            "name": "searchString",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "test"
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            "example": "20"
          },
          {
            "name": "offset",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            "example": "0"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "example": [
                  "An empty collection",
                  "Ports in Germany"
                ]
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/layers/collections/search/{provider}/{collection}": {
      "get": {
        "tags": [
          "Layers"
        ],
        "summary": "Searches the contents of the collection of the given provider",
        "operationId": "search_handler",
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "description": "Data provider id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/DataProviderId"
            },
            "example": "ce5e84db-cbf9-48a2-9a32-d4b7cc56ea74"
          },
          {
            "name": "collection",
            "in": "path",
            "description": "Layer collection id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerCollectionId"
            },
            "example": "05102bb3-a855-4a37-8a8a-30026a91fef1"
          },
          {
            "name": "searchType",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/SearchType"
            },
            "example": "fulltext"
          },
          {
            "name": "searchString",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "test"
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            "example": "20"
          },
          {
            "name": "offset",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            "example": "0"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LayerCollection"
                },
                "example": {
                  "id": {
                    "providerId": "ce5e84db-cbf9-48a2-9a32-d4b7cc56ea74",
                    "collectionId": "05102bb3-a855-4a37-8a8a-30026a91fef1"
                  },
                  "name": "Layers",
                  "description": "All available Geo Engine layers",
                  "items": [
                    {
                      "type": "collection",
                      "id": {
                        "providerId": "ce5e84db-cbf9-48a2-9a32-d4b7cc56ea74",
                        "collectionId": "a29f77cc-51ce-466b-86ef-d0ab2170bc0a"
                      },
                      "name": "An empty collection",
                      "description": "There is nothing here",
                      "properties": []
                    },
                    {
                      "type": "layer",
                      "id": {
                        "providerId": "ce5e84db-cbf9-48a2-9a32-d4b7cc56ea74",
                        "layerId": "b75db46e-2b9a-4a86-b33f-bc06a73cd711"
                      },
                      "name": "Ports in Germany",
                      "description": "Natural Earth Ports point filtered with Germany polygon",
                      "properties": []
                    }
                  ],
                  "entryLabel": null,
                  "properties": []
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/layers/collections/{provider}/{collection}": {
      "get": {
        "tags": [
          "Layers"
        ],
        "summary": "List the contents of the collection of the given provider",
        "operationId": "list_collection_handler",
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "description": "Data provider id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/DataProviderId"
            }
          },
          {
            "name": "collection",
            "in": "path",
            "description": "Layer collection id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerCollectionId"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            "example": 0
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            "example": 20
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LayerCollection"
                },
                "example": {
                  "id": {
                    "providerId": "ac50ed0d-c9a0-41f8-9ce8-35fc9e38299b",
                    "collectionId": "546073b6-d535-4205-b601-99675c9f6dd7"
                  },
                  "name": "Datasets",
                  "description": "Basic Layers for all Datasets",
                  "items": [
                    {
                      "type": "layer",
                      "id": {
                        "providerId": "ac50ed0d-c9a0-41f8-9ce8-35fc9e38299b",
                        "layerId": "9ee3619e-d0f9-4ced-9c44-3d407c3aed69"
                      },
                      "name": "Land Cover",
                      "description": "Land Cover derived from MODIS/Terra+Aqua Land Cover"
                    },
                    {
                      "type": "layer",
                      "id": {
                        "providerId": "ac50ed0d-c9a0-41f8-9ce8-35fc9e38299b",
                        "layerId": "36574dc3-560a-4b09-9d22-d5945f2b8093"
                      },
                      "name": "NDVI",
                      "description": "NDVI data from MODIS"
                    }
                  ],
                  "entryLabel": null,
                  "properties": []
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/layers/{provider}/capabilities": {
      "get": {
        "tags": [
          "Layers"
        ],
        "operationId": "provider_capabilities_handler",
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "description": "Data provider id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/DataProviderId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProviderCapabilities"
                },
                "example": {
                  "listing": true,
                  "search": {
                    "search_types": {
                      "fulltext": true,
                      "prefix": true
                    },
                    "autocomplete": true,
                    "filters": []
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/layers/{provider}/{layer}": {
      "get": {
        "tags": [
          "Layers"
        ],
        "summary": "Retrieves the layer of the given provider",
        "operationId": "layer_handler",
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "description": "Data provider id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/DataProviderId"
            }
          },
          {
            "name": "layer",
            "in": "path",
            "description": "Layer id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerCollectionId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Layer"
                },
                "example": {
                  "id": {
                    "providerId": "ac50ed0d-c9a0-41f8-9ce8-35fc9e38299b",
                    "layerId": "9ee3619e-d0f9-4ced-9c44-3d407c3aed69"
                  },
                  "name": "Land Cover",
                  "description": "Land Cover derived from MODIS/Terra+Aqua Land Cover",
                  "workflow": {
                    "type": "Raster",
                    "operator": {
                      "type": "GdalSource",
                      "params": {
                        "data": {
                          "type": "internal",
                          "datasetId": "9ee3619e-d0f9-4ced-9c44-3d407c3aed69"
                        }
                      }
                    }
                  },
                  "symbology": {
                    "type": "raster",
                    "opacity": 1,
                    "colorizer": {
                      "type": "palette",
                      "colors": {
                        "0": [
                          134,
                          201,
                          227,
                          255
                        ],
                        "1": [
                          30,
                          129,
                          62,
                          255
                        ],
                        "2": [
                          59,
                          194,
                          212,
                          255
                        ],
                        "3": [
                          157,
                          194,
                          63,
                          255
                        ],
                        "4": [
                          159,
                          225,
                          127,
                          255
                        ],
                        "5": [
                          125,
                          194,
                          127,
                          255
                        ],
                        "6": [
                          195,
                          127,
                          126,
                          255
                        ],
                        "7": [
                          188,
                          221,
                          190,
                          255
                        ],
                        "8": [
                          224,
                          223,
                          133,
                          255
                        ],
                        "9": [
                          226,
                          221,
                          7,
                          255
                        ],
                        "10": [
                          223,
                          192,
                          125,
                          255
                        ],
                        "11": [
                          66,
                          128,
                          189,
                          255
                        ],
                        "12": [
                          225,
                          222,
                          127,
                          255
                        ],
                        "13": [
                          253,
                          2,
                          0,
                          255
                        ],
                        "14": [
                          162,
                          159,
                          66,
                          255
                        ],
                        "15": [
                          255,
                          255,
                          255,
                          255
                        ],
                        "16": [
                          192,
                          192,
                          192,
                          255
                        ]
                      },
                      "noDataColor": [
                        0,
                        0,
                        0,
                        0
                      ],
                      "defaultColor": [
                        0,
                        0,
                        0,
                        0
                      ]
                    }
                  },
                  "properties": [],
                  "metadata": {}
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/layers/{provider}/{layer}/dataset": {
      "post": {
        "tags": [
          "Layers"
        ],
        "summary": "Persist a raster layer from a provider as a dataset.",
        "operationId": "layer_to_dataset",
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "description": "Data provider id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/DataProviderId"
            }
          },
          {
            "name": "layer",
            "in": "path",
            "description": "Layer id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Id of created task",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskResponse"
                },
                "example": {
                  "taskId": "7f8a4cfe-76ab-4972-b347-b197e5ef0f3c"
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/layers/{provider}/{layer}/workflowId": {
      "post": {
        "tags": [
          "Layers"
        ],
        "summary": "Registers a layer from a provider as a workflow and returns the workflow id",
        "operationId": "layer_to_workflow_id_handler",
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "description": "Data provider id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/DataProviderId"
            }
          },
          {
            "name": "layer",
            "in": "path",
            "description": "Layer id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/LayerCollectionId"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/IdResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/login": {
      "post": {
        "tags": [
          "Session"
        ],
        "summary": "Creates a session by providing user credentials. The session's id serves as a Bearer token for requests.",
        "operationId": "login_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCredentials"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "The created session",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserSession"
                },
                "example": {
                  "id": "208fa24e-7a92-4f57-a3fe-d1177d9f18ad",
                  "user": {
                    "id": "5b4466d2-8bab-4ed8-a182-722af3c80958",
                    "email": "foo@example.com",
                    "realName": "Foo Bar"
                  },
                  "created": "2021-04-26T13:47:10.579724800Z",
                  "validUntil": "2021-04-26T14:47:10.579775400Z",
                  "project": null,
                  "view": null,
                  "roles": [
                    "fa5be363-bc0d-4bfa-85c7-ebb5cd9a8783",
                    "4e8081b6-8aa6-4275-af0c-2fa2da557d28"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/logout": {
      "post": {
        "tags": [
          "Session"
        ],
        "summary": "Ends a session.",
        "operationId": "logout_handler",
        "responses": {
          "200": {
            "description": "The Session was deleted."
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/ml/models": {
      "get": {
        "tags": [
          "ML"
        ],
        "summary": "List ml models.",
        "operationId": "list_ml_models",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MlModel"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      },
      "post": {
        "tags": [
          "ML"
        ],
        "summary": "Create a new ml model.",
        "operationId": "add_ml_model",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MlModel"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MlModelNameResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/ml/models/{model_name}": {
      "get": {
        "tags": [
          "ML"
        ],
        "summary": "Get ml model by name.",
        "operationId": "get_ml_model",
        "parameters": [
          {
            "name": "model_name",
            "in": "path",
            "description": "Ml Model Name",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/MlModelName"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MlModel"
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/oidcInit": {
      "post": {
        "tags": [
          "Session"
        ],
        "summary": "Initializes the Open Id Connect login procedure by requesting a parametrized url to the configured Id Provider.",
        "description": "# Errors\n\nThis call fails if Open ID Connect is disabled, misconfigured or the Id Provider is unreachable.\n\n",
        "operationId": "oidc_init",
        "parameters": [
          {
            "name": "redirectUri",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthCodeRequestURL"
                },
                "example": {
                  "url": "http://someissuer.com/authorize?client_id=someclient&redirect_uri=someuri&response_type=code&scope=somescope&state=somestate&nonce=somenonce&codechallenge=somechallenge&code_challenge_method=S256"
                }
              }
            }
          }
        }
      }
    },
    "/oidcLogin": {
      "post": {
        "tags": [
          "Session"
        ],
        "summary": "Creates a session for a user via a login with Open Id Connect.\nThis call must be preceded by a call to oidcInit and match the parameters of that call.",
        "description": "# Errors\n\nThis call fails if the [`AuthCodeResponse`] is invalid,\nif a previous oidcLogin call with the same state was already successfully or unsuccessfully resolved,\nif the Open Id Connect configuration is invalid,\nor if the Id Provider is unreachable.\n\n",
        "operationId": "oidc_login",
        "parameters": [
          {
            "name": "redirectUri",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthCodeResponse"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserSession"
                },
                "example": {
                  "id": "208fa24e-7a92-4f57-a3fe-d1177d9f18ad",
                  "user": {
                    "id": "5b4466d2-8bab-4ed8-a182-722af3c80958",
                    "email": "foo@bar.de",
                    "realName": "Foo Bar"
                  },
                  "created": "2021-04-26T13:47:10.579724800Z",
                  "validUntil": "2021-04-26T14:47:10.579775400Z",
                  "project": null,
                  "view": null
                }
              }
            }
          }
        }
      }
    },
    "/permissions": {
      "put": {
        "tags": [
          "Permissions"
        ],
        "summary": "Adds a new permission.",
        "operationId": "add_permission_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PermissionRequest"
              },
              "example": {
                "resource": {
                  "type": "layer",
                  "id": "00000000-0000-0000-0000-000000000000"
                },
                "roleId": "00000000-0000-0000-0000-000000000000",
                "permission": "Read"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Permissions"
        ],
        "summary": "Removes an existing permission.",
        "operationId": "remove_permission_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PermissionRequest"
              },
              "example": {
                "resource": {
                  "type": "layer",
                  "id": "00000000-0000-0000-0000-000000000000"
                },
                "roleId": "00000000-0000-0000-0000-000000000000",
                "permission": "Read"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/permissions/resources/{resource_type}/{resource_id}": {
      "get": {
        "tags": [
          "Permissions"
        ],
        "summary": "Lists permission for a given resource.",
        "operationId": "get_resource_permissions_handler",
        "parameters": [
          {
            "name": "resource_type",
            "in": "path",
            "description": "Resource Type",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "resource_id",
            "in": "path",
            "description": "Resource Id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of permission",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PermissionListing"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/plot/{id}": {
      "get": {
        "tags": [
          "Plots"
        ],
        "summary": "Generates a plot.",
        "description": "# Example\n\n1. Upload the file `plain_data.csv` with the following content:\n\n```csv\na\n1\n2\n```\n2. Create a dataset from it using the \"Plain Data\" example at `/dataset`.\n3. Create a statistics workflow using the \"Statistics Plot\" example at `/workflow`.\n4. Generate the plot with this handler.",
        "operationId": "get_plot_handler",
        "parameters": [
          {
            "name": "bbox",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "0,-0.3,0.2,0"
          },
          {
            "name": "crs",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            },
            "example": "EPSG:4326"
          },
          {
            "name": "time",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "2020-01-01T00:00:00.0Z"
          },
          {
            "name": "spatialResolution",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "0.1,0.1"
          },
          {
            "name": "id",
            "in": "path",
            "description": "Workflow id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WrappedPlotOutput"
                },
                "example": {
                  "outputFormat": "JsonPlain",
                  "plotType": "Statistics",
                  "data": {
                    "a": {
                      "max": 2.0,
                      "mean": 1.5,
                      "min": 1.0,
                      "stddev": 0.5,
                      "validCount": 2,
                      "valueCount": 2
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/project": {
      "post": {
        "tags": [
          "Projects"
        ],
        "summary": "Create a new project for the user.",
        "operationId": "create_project_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProject"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/IdResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/project/{project}": {
      "get": {
        "tags": [
          "Projects"
        ],
        "summary": "Retrieves details about the latest version of a project.",
        "operationId": "load_project_latest_handler",
        "parameters": [
          {
            "name": "project",
            "in": "path",
            "description": "Project id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/ProjectId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Project loaded from database",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Project"
                },
                "example": {
                  "id": "df4ad02e-0d61-4e29-90eb-dc1259c1f5b9",
                  "version": {
                    "id": "8f4b8683-f92c-4129-a16f-818aeeee484e",
                    "changed": "2021-04-26T14:05:39.677390600Z",
                    "author": "5b4466d2-8bab-4ed8-a182-722af3c80958"
                  },
                  "name": "Test",
                  "description": "Foo",
                  "layers": [],
                  "plots": [],
                  "bounds": {
                    "spatialReference": "EPSG:4326",
                    "boundingBox": {
                      "lowerLeftCoordinate": {
                        "x": 0.0,
                        "y": 0.0
                      },
                      "upperRightCoordinate": {
                        "x": 1.0,
                        "y": 1.0
                      }
                    },
                    "timeInterval": {
                      "start": 0,
                      "end": 1
                    }
                  },
                  "timeStep": {
                    "granularity": "months",
                    "step": 1
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Projects"
        ],
        "summary": "Deletes a project.",
        "operationId": "delete_project_handler",
        "parameters": [
          {
            "name": "project",
            "in": "path",
            "description": "Project id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/ProjectId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Projects"
        ],
        "summary": "Updates a project.\nThis will create a new version.",
        "operationId": "update_project_handler",
        "parameters": [
          {
            "name": "project",
            "in": "path",
            "description": "Project id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/ProjectId"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProject"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/project/{project}/versions": {
      "get": {
        "tags": [
          "Projects"
        ],
        "summary": "Lists all available versions of a project.",
        "operationId": "project_versions_handler",
        "parameters": [
          {
            "name": "project",
            "in": "path",
            "description": "Project id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/ProjectId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProjectVersion"
                  }
                },
                "example": [
                  {
                    "id": "8f4b8683-f92c-4129-a16f-818aeeee484e",
                    "changed": "2021-04-26T14:05:39.677390600Z",
                    "author": "5b4466d2-8bab-4ed8-a182-722af3c80958"
                  },
                  {
                    "id": "ced041c7-4b1d-4d13-b076-94596be6a36a",
                    "changed": "2021-04-26T14:13:10.901912700Z",
                    "author": "5b4466d2-8bab-4ed8-a182-722af3c80958"
                  }
                ]
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/project/{project}/{version}": {
      "get": {
        "tags": [
          "Projects"
        ],
        "summary": "Retrieves details about the given version of a project.",
        "operationId": "load_project_version_handler",
        "parameters": [
          {
            "name": "project",
            "in": "path",
            "description": "Project id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/ProjectId"
            }
          },
          {
            "name": "version",
            "in": "path",
            "description": "Version id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/ProjectVersionId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Project loaded from database",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Project"
                },
                "example": {
                  "id": "df4ad02e-0d61-4e29-90eb-dc1259c1f5b9",
                  "version": {
                    "id": "8f4b8683-f92c-4129-a16f-818aeeee484e",
                    "changed": "2021-04-26T14:05:39.677390600Z",
                    "author": "5b4466d2-8bab-4ed8-a182-722af3c80958"
                  },
                  "name": "Test",
                  "description": "Foo",
                  "layers": [],
                  "plots": [],
                  "bounds": {
                    "spatialReference": "EPSG:4326",
                    "boundingBox": {
                      "lowerLeftCoordinate": {
                        "x": 0.0,
                        "y": 0.0
                      },
                      "upperRightCoordinate": {
                        "x": 1.0,
                        "y": 1.0
                      }
                    },
                    "timeInterval": {
                      "start": 0,
                      "end": 1
                    }
                  },
                  "timeStep": {
                    "granularity": "months",
                    "step": 1
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/projects": {
      "get": {
        "tags": [
          "Projects"
        ],
        "summary": "List all projects accessible to the user that match the selected criteria.",
        "operationId": "list_projects_handler",
        "parameters": [
          {
            "name": "order",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/OrderBy"
            },
            "example": "NameAsc"
          },
          {
            "name": "offset",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            "example": 0
          },
          {
            "name": "limit",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            "example": 2
          }
        ],
        "responses": {
          "200": {
            "description": "List of projects the user can access",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProjectListing"
                  }
                },
                "example": [
                  {
                    "id": "df4ad02e-0d61-4e29-90eb-dc1259c1f5b9",
                    "name": "Test",
                    "description": "Foo",
                    "layerNames": [],
                    "plotNames": [],
                    "changed": "2021-04-26T14:03:51.984537900Z"
                  }
                ]
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/quota": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Retrieves the available and used quota of the current user.",
        "operationId": "quota_handler",
        "responses": {
          "200": {
            "description": "The available and used quota of the user",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Quota"
                },
                "example": {
                  "available": 4321,
                  "used": 1234
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/quota/computations": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Retrieves the quota used by computations",
        "operationId": "computations_quota_handler",
        "parameters": [
          {
            "name": "offset",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The quota used by computations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ComputationQuota"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/quota/computations/{computation}": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Retrieves the quota used by computation with the given computation id",
        "operationId": "computation_quota_handler",
        "parameters": [
          {
            "name": "computation",
            "in": "path",
            "description": "Computation id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The quota used by computation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/OperatorQuota"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/quota/dataUsage": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Retrieves the data usage",
        "operationId": "data_usage_handler",
        "parameters": [
          {
            "name": "offset",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The quota used on data",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DataUsage"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/quota/dataUsage/summary": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Retrieves the data usage summary",
        "operationId": "data_usage_summary_handler",
        "parameters": [
          {
            "name": "granularity",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/UsageSummaryGranularity"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "dataset",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The quota used on data",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DataUsageSummary"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/quotas/{user}": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Retrieves the available and used quota of a specific user.",
        "operationId": "get_user_quota_handler",
        "parameters": [
          {
            "name": "user",
            "in": "path",
            "description": "User id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/UserId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The available and used quota of the user",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Quota"
                },
                "example": {
                  "available": 4321,
                  "used": 1234
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      },
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Update the available quota of a specific user.",
        "operationId": "update_user_quota_handler",
        "parameters": [
          {
            "name": "user",
            "in": "path",
            "description": "User id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/UserId"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateQuota"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Quota was updated"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/roles": {
      "put": {
        "tags": [
          "User"
        ],
        "summary": "Add a new role. Requires admin privilige.",
        "operationId": "add_role_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddRole"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Role was added",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleId"
                },
                "example": {
                  "id": "5b4466d2-8bab-4ed8-a182-722af3c80958"
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/roles/byName/{name}": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Get role by name",
        "operationId": "get_role_by_name_handler",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Role Name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/IdResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/roles/{role}": {
      "delete": {
        "tags": [
          "User"
        ],
        "summary": "Remove a role. Requires admin privilige.",
        "operationId": "remove_role_handler",
        "parameters": [
          {
            "name": "role",
            "in": "path",
            "description": "Role id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/RoleId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Role was removed"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/session": {
      "get": {
        "tags": [
          "Session"
        ],
        "summary": "Retrieves details about the current session.",
        "operationId": "session_handler",
        "responses": {
          "200": {
            "description": "The current session",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserSession"
                },
                "example": {
                  "id": "208fa24e-7a92-4f57-a3fe-d1177d9f18ad",
                  "user": {
                    "id": "5b4466d2-8bab-4ed8-a182-722af3c80958",
                    "email": "foo@example.com",
                    "realName": "Foo Bar"
                  },
                  "created": "2021-04-26T13:47:10.579724800Z",
                  "validUntil": "2021-04-26T14:47:10.579775400Z",
                  "project": null,
                  "view": null,
                  "roles": [
                    "fa5be363-bc0d-4bfa-85c7-ebb5cd9a8783",
                    "4e8081b6-8aa6-4275-af0c-2fa2da557d28"
                  ]
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/spatialReferenceSpecification/{srsString}": {
      "get": {
        "tags": [
          "Spatial References"
        ],
        "operationId": "get_spatial_reference_specification_handler",
        "parameters": [
          {
            "name": "srsString",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "EPSG:4326"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SpatialReferenceSpecification"
                },
                "example": {
                  "name": "WGS 84",
                  "spatialReference": "EPSG:4326",
                  "projString": "+proj=longlat +datum=WGS84 +no_defs +type=crs",
                  "extent": {
                    "lowerLeftCoordinate": {
                      "x": -180.0,
                      "y": -90.0
                    },
                    "upperRightCoordinate": {
                      "x": 180.0,
                      "y": 90.0
                    }
                  },
                  "axisLabels": [
                    "Geodetic longitude",
                    "Geodetic latitude"
                  ],
                  "axisOrder": "northEast"
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/tasks/list": {
      "get": {
        "tags": [
          "Tasks"
        ],
        "summary": "Retrieve the status of all tasks.",
        "operationId": "list_handler",
        "parameters": [
          {
            "name": "filter",
            "in": "path",
            "required": true,
            "schema": {
              "oneOf": [
                {
                  "type": "null"
                },
                {
                  "$ref": "#/components/schemas/TaskFilter"
                }
              ]
            }
          },
          {
            "name": "offset",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            "example": 0
          },
          {
            "name": "limit",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            "example": 20
          }
        ],
        "responses": {
          "200": {
            "description": "Status of all tasks",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TaskStatusWithId"
                  }
                },
                "example": [
                  {
                    "taskId": "420b06de-0a7e-45cb-9c1c-ea901b46ab69",
                    "status": "completed",
                    "taskType": "dummy-task",
                    "description": "Demo",
                    "info": null,
                    "timeTotal": "00:00:30",
                    "timeStarted": "2023-02-16T15:25:45.390Z"
                  }
                ]
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/tasks/{id}": {
      "delete": {
        "tags": [
          "Tasks"
        ],
        "summary": "Abort a running task.",
        "description": "# Parameters\n\n* `force` - If true, the task will be aborted without clean-up.\n            You can abort a task that is already in the process of aborting.",
        "operationId": "abort_handler",
        "parameters": [
          {
            "name": "force",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "id",
            "in": "path",
            "description": "Task id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/TaskId"
            }
          }
        ],
        "responses": {
          "202": {
            "description": "Task will be aborted."
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/tasks/{id}/status": {
      "get": {
        "tags": [
          "Tasks"
        ],
        "summary": "Retrieve the status of a task.",
        "operationId": "status_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Task id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/TaskId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Status of the task (running)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskStatus"
                },
                "example": {
                  "status": "running",
                  "taskType": "dummy-task",
                  "description": "Demo",
                  "pctComplete": "0.00%",
                  "timeStarted": "2023-02-16T15:25:45.390Z",
                  "estimatedTimeRemaining": "? (± ?)",
                  "info": null
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/upload": {
      "post": {
        "tags": [
          "Uploads"
        ],
        "summary": "Uploads files.",
        "operationId": "upload_handler",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "files[]"
                ],
                "properties": {
                  "files[]": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    }
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/IdResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/uploads/{upload_id}/files": {
      "get": {
        "tags": [
          "Uploads"
        ],
        "summary": "List the files of on upload.",
        "operationId": "list_upload_files_handler",
        "parameters": [
          {
            "name": "upload_id",
            "in": "path",
            "description": "Upload id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/UploadId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadFilesResponse"
                },
                "example": {
                  "files": [
                    "file1",
                    "file2"
                  ]
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/uploads/{upload_id}/files/{file_name}/layers": {
      "get": {
        "tags": [
          "Uploads"
        ],
        "summary": "List the layers of on uploaded file.",
        "operationId": "list_upload_file_layers_handler",
        "parameters": [
          {
            "name": "upload_id",
            "in": "path",
            "description": "Upload id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/UploadId"
            }
          },
          {
            "name": "file_name",
            "in": "path",
            "description": "File name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadFileLayersResponse"
                },
                "example": {
                  "layers": [
                    "layer1",
                    "layer2"
                  ]
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/user": {
      "post": {
        "tags": [
          "Session"
        ],
        "summary": "Registers a user.",
        "operationId": "register_user_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserRegistration"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "The id of the created user",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserId"
                },
                "example": {
                  "id": "5b4466d2-8bab-4ed8-a182-722af3c80958"
                }
              }
            }
          }
        }
      }
    },
    "/user/roles/descriptions": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Query roles for the current user.",
        "operationId": "get_role_descriptions",
        "responses": {
          "200": {
            "description": "The description for roles of the current user",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RoleDescription"
                  }
                },
                "example": [
                  {
                    "role": {
                      "id": "5b4466d2-8bab-4ed8-a182-722af3c80958",
                      "name": "foo@example.com"
                    },
                    "individual": true
                  },
                  {
                    "role": {
                      "id": "fa5be363-bc0d-4bfa-85c7-ebb5cd9a8783",
                      "name": "Example role"
                    },
                    "individual": false
                  }
                ]
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/users/{user}/roles/{role}": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "Assign a role to a user. Requires admin privilige.",
        "operationId": "assign_role_handler",
        "parameters": [
          {
            "name": "user",
            "in": "path",
            "description": "User id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/UserId"
            }
          },
          {
            "name": "role",
            "in": "path",
            "description": "Role id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/RoleId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Role was assigned"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      },
      "delete": {
        "tags": [
          "User"
        ],
        "summary": "Revoke a role from a user. Requires admin privilige.",
        "operationId": "revoke_role_handler",
        "parameters": [
          {
            "name": "user",
            "in": "path",
            "description": "User id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/UserId"
            }
          },
          {
            "name": "role",
            "in": "path",
            "description": "Role id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/RoleId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Role was revoked"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/wcs/{workflow}?request=DescribeCoverage": {
      "get": {
        "tags": [
          "OGC WCS"
        ],
        "summary": "Get WCS Coverage Description",
        "operationId": "wcs_describe_coverage_handler",
        "parameters": [
          {
            "name": "workflow",
            "in": "path",
            "description": "Workflow id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WorkflowId"
            }
          },
          {
            "name": "version",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WcsVersion"
            }
          },
          {
            "name": "service",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WcsService"
            }
          },
          {
            "name": "request",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/DescribeCoverageRequest"
            }
          },
          {
            "name": "identifiers",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "<Workflow Id>"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/xml": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/wcs/{workflow}?request=GetCapabilities": {
      "get": {
        "tags": [
          "OGC WCS"
        ],
        "summary": "Get WCS Capabilities",
        "operationId": "wcs_capabilities_handler",
        "parameters": [
          {
            "name": "workflow",
            "in": "path",
            "description": "Workflow id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WorkflowId"
            }
          },
          {
            "name": "version",
            "in": "query",
            "required": false,
            "schema": {
              "oneOf": [
                {
                  "type": "null"
                },
                {
                  "$ref": "#/components/schemas/WcsVersion"
                }
              ]
            }
          },
          {
            "name": "service",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WcsService"
            }
          },
          {
            "name": "request",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/GetCapabilitiesRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/xml": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/wcs/{workflow}?request=GetCoverage": {
      "get": {
        "tags": [
          "OGC WCS"
        ],
        "summary": "Get WCS Coverage",
        "operationId": "wcs_get_coverage_handler",
        "parameters": [
          {
            "name": "workflow",
            "in": "path",
            "description": "Workflow id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WorkflowId"
            }
          },
          {
            "name": "version",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WcsVersion"
            }
          },
          {
            "name": "service",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WcsService"
            }
          },
          {
            "name": "request",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/GetCoverageRequest"
            }
          },
          {
            "name": "format",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/GetCoverageFormat"
            }
          },
          {
            "name": "identifier",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "<Workflow Id>"
          },
          {
            "name": "boundingbox",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "-90,-180,90,180,urn:ogc:def:crs:EPSG::4326"
          },
          {
            "name": "gridbasecrs",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "urn:ogc:def:crs:EPSG::4326"
          },
          {
            "name": "gridorigin",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "90,-180"
          },
          {
            "name": "gridoffsets",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "-0.1,0.1"
          },
          {
            "name": "time",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "resx",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "number",
                "null"
              ],
              "format": "double"
            }
          },
          {
            "name": "resy",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "number",
                "null"
              ],
              "format": "double"
            }
          },
          {
            "name": "nodatavalue",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "number",
                "null"
              ],
              "format": "double"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/PngResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/wfs/{workflow}?request=GetCapabilities": {
      "get": {
        "tags": [
          "OGC WFS"
        ],
        "summary": "Get WFS Capabilities",
        "operationId": "wfs_capabilities_handler",
        "parameters": [
          {
            "name": "workflow",
            "in": "path",
            "description": "Workflow id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WorkflowId"
            }
          },
          {
            "name": "version",
            "in": "path",
            "required": true,
            "schema": {
              "oneOf": [
                {
                  "type": "null"
                },
                {
                  "$ref": "#/components/schemas/WfsVersion"
                }
              ]
            }
          },
          {
            "name": "service",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WfsService"
            }
          },
          {
            "name": "request",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/GetCapabilitiesRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/xml": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/wfs/{workflow}?request=GetFeature": {
      "get": {
        "tags": [
          "OGC WFS"
        ],
        "summary": "Get WCS Features",
        "operationId": "wfs_feature_handler",
        "parameters": [
          {
            "name": "workflow",
            "in": "path",
            "description": "Workflow id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WorkflowId"
            }
          },
          {
            "name": "version",
            "in": "query",
            "required": false,
            "schema": {
              "oneOf": [
                {
                  "type": "null"
                },
                {
                  "$ref": "#/components/schemas/WfsVersion"
                }
              ]
            }
          },
          {
            "name": "service",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WfsService"
            }
          },
          {
            "name": "request",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/GetFeatureRequest"
            }
          },
          {
            "name": "typeNames",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/TypeNames"
            },
            "example": "<Workflow Id>"
          },
          {
            "name": "bbox",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/OgcBoundingBox"
            },
            "example": "-90,-180,90,180"
          },
          {
            "name": "time",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "2014-04-01T12:00:00.000Z"
          },
          {
            "name": "srsName",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            },
            "example": "EPSG:4326"
          },
          {
            "name": "namespaces",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "count",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "integer",
                "null"
              ],
              "format": "int64",
              "minimum": 0
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "resultType",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "filter",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "propertyName",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "queryResolution",
            "in": "query",
            "description": "Vendor parameter for specifying a spatial query resolution",
            "required": false,
            "schema": {
              "oneOf": [
                {
                  "type": "null"
                },
                {
                  "$ref": "#/components/schemas/WfsResolution"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GeoJson"
                },
                "example": {
                  "type": "FeatureCollection",
                  "features": [
                    {
                      "type": "Feature",
                      "geometry": {
                        "type": "Point",
                        "coordinates": [
                          0.0,
                          0.1
                        ]
                      },
                      "properties": {
                        "foo": 0
                      },
                      "when": {
                        "start": "1970-01-01T00:00:00+00:00",
                        "end": "1970-01-01T00:00:00.001+00:00",
                        "type": "Interval"
                      }
                    },
                    {
                      "type": "Feature",
                      "geometry": {
                        "type": "Point",
                        "coordinates": [
                          1.0,
                          1.1
                        ]
                      },
                      "properties": {
                        "foo": null
                      },
                      "when": {
                        "start": "1970-01-01T00:00:00+00:00",
                        "end": "1970-01-01T00:00:00.001+00:00",
                        "type": "Interval"
                      }
                    },
                    {
                      "type": "Feature",
                      "geometry": {
                        "type": "Point",
                        "coordinates": [
                          2.0,
                          3.1
                        ]
                      },
                      "properties": {
                        "foo": 2
                      },
                      "when": {
                        "start": "1970-01-01T00:00:00+00:00",
                        "end": "1970-01-01T00:00:00.001+00:00",
                        "type": "Interval"
                      }
                    },
                    {
                      "type": "Feature",
                      "geometry": {
                        "type": "Point",
                        "coordinates": [
                          3.0,
                          3.1
                        ]
                      },
                      "properties": {
                        "foo": 3
                      },
                      "when": {
                        "start": "1970-01-01T00:00:00+00:00",
                        "end": "1970-01-01T00:00:00.001+00:00",
                        "type": "Interval"
                      }
                    },
                    {
                      "type": "Feature",
                      "geometry": {
                        "type": "Point",
                        "coordinates": [
                          4.0,
                          4.1
                        ]
                      },
                      "properties": {
                        "foo": 4
                      },
                      "when": {
                        "start": "1970-01-01T00:00:00+00:00",
                        "end": "1970-01-01T00:00:00.001+00:00",
                        "type": "Interval"
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/wms/{workflow}?request=GetCapabilities": {
      "get": {
        "tags": [
          "OGC WMS"
        ],
        "summary": "Get WMS Capabilities",
        "operationId": "wms_capabilities_handler",
        "parameters": [
          {
            "name": "workflow",
            "in": "path",
            "description": "Workflow id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WorkflowId"
            }
          },
          {
            "name": "version",
            "in": "path",
            "required": true,
            "schema": {
              "oneOf": [
                {
                  "type": "null"
                },
                {
                  "$ref": "#/components/schemas/WmsVersion"
                }
              ]
            }
          },
          {
            "name": "service",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WmsService"
            }
          },
          {
            "name": "request",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/GetCapabilitiesRequest"
            }
          },
          {
            "name": "format",
            "in": "path",
            "required": true,
            "schema": {
              "oneOf": [
                {
                  "type": "null"
                },
                {
                  "$ref": "#/components/schemas/GetCapabilitiesFormat"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/xml": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/wms/{workflow}?request=GetLegendGraphic": {
      "get": {
        "tags": [
          "OGC WMS"
        ],
        "summary": "Get WMS Legend Graphic",
        "operationId": "wms_legend_graphic_handler",
        "parameters": [
          {
            "name": "workflow",
            "in": "path",
            "description": "Workflow id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WorkflowId"
            }
          },
          {
            "name": "version",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WmsVersion"
            }
          },
          {
            "name": "service",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WmsService"
            }
          },
          {
            "name": "request",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/GetLegendGraphicRequest"
            }
          },
          {
            "name": "layer",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "<Workflow Id>"
          }
        ],
        "responses": {
          "501": {
            "description": "Not implemented"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/wms/{workflow}?request=GetMap": {
      "get": {
        "tags": [
          "OGC WMS"
        ],
        "summary": "Get WMS Map",
        "operationId": "wms_map_handler",
        "parameters": [
          {
            "name": "workflow",
            "in": "path",
            "description": "Workflow id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WorkflowId"
            }
          },
          {
            "name": "version",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WmsVersion"
            }
          },
          {
            "name": "service",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WmsService"
            }
          },
          {
            "name": "request",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/GetMapRequest"
            }
          },
          {
            "name": "width",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            "example": 512
          },
          {
            "name": "height",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            "example": 256
          },
          {
            "name": "bbox",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/OgcBoundingBox"
            },
            "example": "-90,-180,90,180"
          },
          {
            "name": "format",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/GetMapFormat"
            }
          },
          {
            "name": "layers",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "<Workflow Id>"
          },
          {
            "name": "crs",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            },
            "example": "EPSG:4326"
          },
          {
            "name": "styles",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "custom:{\"type\":\"linearGradient\",\"breakpoints\":[{\"value\":1,\"color\":[0,0,0,255]},{\"value\":255,\"color\":[255,255,255,255]}],\"noDataColor\":[0,0,0,0],\"defaultColor\":[0,0,0,0]}"
          },
          {
            "name": "time",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "2014-04-01T12:00:00.000Z"
          },
          {
            "name": "transparent",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "boolean",
                "null"
              ]
            }
          },
          {
            "name": "bgcolor",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "sld",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "sld_body",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "elevation",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "exceptions",
            "in": "query",
            "required": false,
            "schema": {
              "oneOf": [
                {
                  "type": "null"
                },
                {
                  "$ref": "#/components/schemas/GetMapExceptionFormat"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/PngResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/workflow": {
      "post": {
        "tags": [
          "Workflows"
        ],
        "summary": "Registers a new Workflow.",
        "operationId": "register_workflow_handler",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Workflow"
              },
              "examples": {
                "MockPointSource": {
                  "value": {
                    "type": "Vector",
                    "operator": {
                      "type": "MockPointSource",
                      "params": {
                        "points": [
                          {
                            "x": 0.0,
                            "y": 0.1
                          },
                          {
                            "x": 1.0,
                            "y": 1.1
                          }
                        ]
                      }
                    }
                  }
                },
                "Statistics Plot": {
                  "value": {
                    "type": "Plot",
                    "operator": {
                      "type": "Statistics",
                      "params": {},
                      "sources": {
                        "source": {
                          "type": "OgrSource",
                          "params": {
                            "data": "ne_10m_ports",
                            "attributeProjection": null,
                            "attributeFilters": null
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/IdResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/workflow/{id}": {
      "get": {
        "tags": [
          "Workflows"
        ],
        "summary": "Retrieves an existing Workflow.",
        "operationId": "load_workflow_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Workflow id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WorkflowId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Workflow loaded from database",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Workflow"
                },
                "example": {
                  "type": "Vector",
                  "operator": {
                    "type": "MockPointSource",
                    "params": {
                      "points": [
                        {
                          "x": 0.0,
                          "y": 0.1
                        },
                        {
                          "x": 1.0,
                          "y": 1.1
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/workflow/{id}/allMetadata/zip": {
      "get": {
        "tags": [
          "Workflows"
        ],
        "summary": "Gets a ZIP archive of the worklow, its provenance and the output metadata.",
        "operationId": "get_workflow_all_metadata_zip_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Workflow id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WorkflowId"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/ZipResponse"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/workflow/{id}/metadata": {
      "get": {
        "tags": [
          "Workflows"
        ],
        "summary": "Gets the metadata of a workflow",
        "operationId": "get_workflow_metadata_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Workflow id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WorkflowId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Metadata of loaded workflow",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TypedResultDescriptor"
                },
                "example": {
                  "type": "vector",
                  "dataType": "MultiPoint",
                  "spatialReference": "EPSG:4326",
                  "columns": {}
                }
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/workflow/{id}/provenance": {
      "get": {
        "tags": [
          "Workflows"
        ],
        "summary": "Gets the provenance of all datasets used in a workflow.",
        "operationId": "get_workflow_provenance_handler",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Workflow id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WorkflowId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Provenance of used datasets",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProvenanceEntry"
                  }
                },
                "example": [
                  {
                    "dataset": {
                      "type": "internal",
                      "datasetId": "846a823a-6859-4b94-ab0a-c1de80f593d8"
                    },
                    "provenance": {
                      "citation": "Author, Dataset Tile",
                      "license": "Some license",
                      "uri": "http://example.org/"
                    }
                  },
                  {
                    "dataset": {
                      "type": "internal",
                      "datasetId": "453cd398-f271-437b-9c3d-7f42213ea30a"
                    },
                    "provenance": {
                      "citation": "Another Author, Another Dataset Tile",
                      "license": "Some other license",
                      "uri": "http://example.org/"
                    }
                  }
                ]
              }
            }
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    },
    "/workflow/{id}/rasterStream": {
      "get": {
        "tags": [
          "Workflows"
        ],
        "summary": "Query a workflow raster result as a stream of tiles via a websocket connection.",
        "operationId": "raster_stream_websocket",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Workflow id",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WorkflowId"
            }
          },
          {
            "name": "spatialBounds",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/SpatialPartition2D"
            }
          },
          {
            "name": "timeInterval",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "spatialResolution",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/SpatialResolution"
            }
          },
          {
            "name": "attributes",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "resultType",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/RasterStreamWebsocketResultType"
            }
          }
        ],
        "responses": {
          "101": {
            "description": "Upgrade to websocket connection"
          }
        },
        "security": [
          {
            "session_token": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "AddDataset": {
        "type": "object",
        "required": [
          "displayName",
          "description",
          "sourceOperator"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "displayName": {
            "type": "string"
          },
          "name": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/DatasetName"
              }
            ]
          },
          "provenance": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/components/schemas/Provenance"
            }
          },
          "sourceOperator": {
            "type": "string"
          },
          "symbology": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/Symbology"
              }
            ]
          },
          "tags": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          }
        }
      },
      "AddLayer": {
        "type": "object",
        "required": [
          "name",
          "description",
          "workflow"
        ],
        "properties": {
          "description": {
            "type": "string",
            "example": "Example layer description"
          },
          "metadata": {
            "type": "object",
            "description": "metadata used for loading the data",
            "additionalProperties": {
              "type": "string"
            },
            "propertyNames": {
              "type": "string"
            }
          },
          "name": {
            "type": "string",
            "example": "Example Layer"
          },
          "properties": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Property"
            },
            "description": "properties, for instance, to be rendered in the UI"
          },
          "symbology": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/Symbology"
              }
            ]
          },
          "workflow": {
            "$ref": "#/components/schemas/Workflow"
          }
        }
      },
      "AddLayerCollection": {
        "type": "object",
        "required": [
          "name",
          "description"
        ],
        "properties": {
          "description": {
            "type": "string",
            "example": "A description for an example collection"
          },
          "name": {
            "type": "string",
            "example": "Example Collection"
          },
          "properties": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Property"
            }
          }
        }
      },
      "AddRole": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string"
          }
        }
      },
      "AuthCodeRequestURL": {
        "type": "object",
        "required": [
          "url"
        ],
        "properties": {
          "url": {
            "type": "string",
            "format": "uri"
          }
        }
      },
      "AuthCodeResponse": {
        "type": "object",
        "required": [
          "sessionState",
          "code",
          "state"
        ],
        "properties": {
          "code": {
            "type": "string"
          },
          "sessionState": {
            "type": "string"
          },
          "state": {
            "type": "string"
          }
        }
      },
      "AutoCreateDataset": {
        "type": "object",
        "required": [
          "upload",
          "datasetName",
          "datasetDescription",
          "mainFile"
        ],
        "properties": {
          "datasetDescription": {
            "type": "string"
          },
          "datasetName": {
            "type": "string"
          },
          "layerName": {
            "type": [
              "string",
              "null"
            ]
          },
          "mainFile": {
            "type": "string"
          },
          "tags": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "upload": {
            "$ref": "#/components/schemas/UploadId"
          }
        },
        "example": {
          "upload": "420b06de-0a7e-45cb-9c1c-ea901b46ab69",
          "datasetName": "Germany Border (auto)",
          "datasetDescription": "The Outline of Germany (auto detected format)",
          "mainFile": "germany_polygon.gpkg",
          "tags": [
            "area"
          ]
        }
      },
      "AxisOrder": {
        "type": "string",
        "enum": [
          "northEast",
          "eastNorth"
        ]
      },
      "BandSelection": {
        "type": "array",
        "items": {
          "type": "integer",
          "minimum": 0
        }
      },
      "BoundingBox2D": {
        "type": "object",
        "description": "A bounding box that includes all border points.\nNote: may degenerate to a point!",
        "required": [
          "lowerLeftCoordinate",
          "upperRightCoordinate"
        ],
        "properties": {
          "lowerLeftCoordinate": {
            "$ref": "#/components/schemas/Coordinate2D"
          },
          "upperRightCoordinate": {
            "$ref": "#/components/schemas/Coordinate2D"
          }
        }
      },
      "Breakpoint": {
        "type": "object",
        "required": [
          "value",
          "color"
        ],
        "properties": {
          "color": {
            "$ref": "#/components/schemas/RgbaColor"
          },
          "value": {
            "type": "number"
          }
        }
      },
      "CacheTtlSeconds": {
        "type": "integer",
        "format": "int32",
        "minimum": 0
      },
      "ClassificationMeasurement": {
        "type": "object",
        "required": [
          "type",
          "measurement",
          "classes"
        ],
        "properties": {
          "classes": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "propertyNames": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          "measurement": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "classification"
            ]
          }
        }
      },
      "CollectionItem": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/LayerCollectionListing"
          },
          {
            "$ref": "#/components/schemas/LayerListing"
          }
        ],
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "collection": "#/components/schemas/LayerCollectionListing",
            "layer": "#/components/schemas/LayerListing"
          }
        }
      },
      "CollectionType": {
        "type": "string",
        "enum": [
          "FeatureCollection"
        ]
      },
      "ColorParam": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/StaticColor"
          },
          {
            "$ref": "#/components/schemas/DerivedColor"
          }
        ],
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "derived": "#/components/schemas/DerivedColor",
            "static": "#/components/schemas/StaticColor"
          }
        }
      },
      "Colorizer": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/LinearGradient"
          },
          {
            "$ref": "#/components/schemas/LogarithmicGradient"
          },
          {
            "$ref": "#/components/schemas/PaletteColorizer"
          }
        ],
        "description": "A colorizer specifies a mapping between raster values and an output image\nThere are different variants that perform different kinds of mapping.",
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "linearGradient": "#/components/schemas/LinearGradient",
            "logarithmicGradient": "#/components/schemas/LogarithmicGradient",
            "palette": "#/components/schemas/PaletteColorizer"
          }
        }
      },
      "ComputationQuota": {
        "type": "object",
        "required": [
          "timestamp",
          "computationId",
          "workflowId",
          "count"
        ],
        "properties": {
          "computationId": {
            "type": "string",
            "format": "uuid"
          },
          "count": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "workflowId": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "ContinuousMeasurement": {
        "type": "object",
        "required": [
          "type",
          "measurement"
        ],
        "properties": {
          "measurement": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "continuous"
            ]
          },
          "unit": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "Coordinate2D": {
        "type": "object",
        "required": [
          "x",
          "y"
        ],
        "properties": {
          "x": {
            "type": "number",
            "format": "double"
          },
          "y": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "CreateDataset": {
        "type": "object",
        "required": [
          "dataPath",
          "definition"
        ],
        "properties": {
          "dataPath": {
            "$ref": "#/components/schemas/DataPath"
          },
          "definition": {
            "$ref": "#/components/schemas/DatasetDefinition"
          }
        }
      },
      "CreateProject": {
        "type": "object",
        "required": [
          "name",
          "description",
          "bounds"
        ],
        "properties": {
          "bounds": {
            "$ref": "#/components/schemas/STRectangle"
          },
          "description": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "timeStep": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TimeStep"
              }
            ]
          }
        },
        "example": {
          "name": "Test",
          "description": "Foo",
          "bounds": {
            "spatialReference": "EPSG:4326",
            "boundingBox": {
              "lowerLeftCoordinate": {
                "x": 0,
                "y": 0
              },
              "upperRightCoordinate": {
                "x": 1,
                "y": 1
              }
            },
            "timeInterval": {
              "start": 0,
              "end": 1
            }
          },
          "timeStep": {
            "step": 1,
            "granularity": "months"
          }
        }
      },
      "CsvHeader": {
        "type": "string",
        "enum": [
          "yes",
          "no",
          "auto"
        ]
      },
      "DataId": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/InternalDataId"
          },
          {
            "$ref": "#/components/schemas/ExternalDataId"
          }
        ],
        "description": "The identifier for loadable data. It is used in the source operators to get the loading info (aka parametrization)\nfor accessing the data. Internal data is loaded from datasets, external from `DataProvider`s.",
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "external": "#/components/schemas/ExternalDataId",
            "internal": "#/components/schemas/InternalDataId"
          }
        }
      },
      "DataPath": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "volume"
            ],
            "properties": {
              "volume": {
                "$ref": "#/components/schemas/VolumeName"
              }
            }
          },
          {
            "type": "object",
            "required": [
              "upload"
            ],
            "properties": {
              "upload": {
                "$ref": "#/components/schemas/UploadId"
              }
            }
          }
        ]
      },
      "DataProviderId": {
        "type": "string",
        "format": "uuid"
      },
      "DataUsage": {
        "type": "object",
        "required": [
          "timestamp",
          "userId",
          "computationId",
          "data",
          "count"
        ],
        "properties": {
          "computationId": {
            "type": "string",
            "format": "uuid"
          },
          "count": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "data": {
            "type": "string"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "DataUsageSummary": {
        "type": "object",
        "required": [
          "timestamp",
          "data",
          "count"
        ],
        "properties": {
          "count": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "data": {
            "type": "string"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "Dataset": {
        "type": "object",
        "required": [
          "id",
          "name",
          "displayName",
          "description",
          "resultDescriptor",
          "sourceOperator"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "displayName": {
            "type": "string"
          },
          "id": {
            "$ref": "#/components/schemas/DatasetId"
          },
          "name": {
            "$ref": "#/components/schemas/DatasetName"
          },
          "provenance": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/components/schemas/Provenance"
            }
          },
          "resultDescriptor": {
            "$ref": "#/components/schemas/TypedResultDescriptor"
          },
          "sourceOperator": {
            "type": "string"
          },
          "symbology": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/Symbology"
              }
            ]
          },
          "tags": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          }
        }
      },
      "DatasetDefinition": {
        "type": "object",
        "required": [
          "properties",
          "metaData"
        ],
        "properties": {
          "metaData": {
            "$ref": "#/components/schemas/MetaDataDefinition"
          },
          "properties": {
            "$ref": "#/components/schemas/AddDataset"
          }
        }
      },
      "DatasetId": {
        "type": "string",
        "format": "uuid"
      },
      "DatasetListing": {
        "type": "object",
        "required": [
          "id",
          "name",
          "displayName",
          "description",
          "tags",
          "sourceOperator",
          "resultDescriptor"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "displayName": {
            "type": "string"
          },
          "id": {
            "$ref": "#/components/schemas/DatasetId"
          },
          "name": {
            "$ref": "#/components/schemas/DatasetName"
          },
          "resultDescriptor": {
            "$ref": "#/components/schemas/TypedResultDescriptor"
          },
          "sourceOperator": {
            "type": "string"
          },
          "symbology": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/Symbology"
              }
            ]
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "DatasetName": {
        "type": "string",
        "examples": [
          "ns:name"
        ]
      },
      "DatasetNameResponse": {
        "type": "object",
        "title": "Dataset Name Response",
        "required": [
          "datasetName"
        ],
        "properties": {
          "datasetName": {
            "$ref": "#/components/schemas/DatasetName"
          }
        }
      },
      "DatasetResource": {
        "type": "object",
        "required": [
          "type",
          "id"
        ],
        "properties": {
          "id": {
            "$ref": "#/components/schemas/DatasetName"
          },
          "type": {
            "type": "string",
            "enum": [
              "dataset"
            ]
          }
        }
      },
      "DateTimeParseFormat": {
        "type": "string"
      },
      "DateTimeString": {
        "type": "string"
      },
      "DerivedColor": {
        "type": "object",
        "required": [
          "type",
          "attribute",
          "colorizer"
        ],
        "properties": {
          "attribute": {
            "type": "string"
          },
          "colorizer": {
            "$ref": "#/components/schemas/Colorizer"
          },
          "type": {
            "type": "string",
            "enum": [
              "derived"
            ]
          }
        }
      },
      "DerivedNumber": {
        "type": "object",
        "required": [
          "type",
          "attribute",
          "factor",
          "defaultValue"
        ],
        "properties": {
          "attribute": {
            "type": "string"
          },
          "defaultValue": {
            "type": "number",
            "format": "double"
          },
          "factor": {
            "type": "number",
            "format": "double"
          },
          "type": {
            "type": "string",
            "enum": [
              "derived"
            ]
          }
        }
      },
      "DescribeCoverageRequest": {
        "type": "string",
        "enum": [
          "DescribeCoverage"
        ]
      },
      "ErrorResponse": {
        "type": "object",
        "required": [
          "error",
          "message"
        ],
        "properties": {
          "error": {
            "type": "string"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "ExternalDataId": {
        "type": "object",
        "required": [
          "type",
          "providerId",
          "layerId"
        ],
        "properties": {
          "layerId": {
            "$ref": "#/components/schemas/LayerId"
          },
          "providerId": {
            "$ref": "#/components/schemas/DataProviderId"
          },
          "type": {
            "type": "string",
            "enum": [
              "external"
            ]
          }
        }
      },
      "FeatureDataType": {
        "type": "string",
        "enum": [
          "category",
          "int",
          "float",
          "text",
          "bool",
          "dateTime"
        ]
      },
      "FileNotFoundHandling": {
        "type": "string",
        "enum": [
          "NoData",
          "Error"
        ]
      },
      "FormatSpecifics": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "csv"
            ],
            "properties": {
              "csv": {
                "type": "object",
                "required": [
                  "header"
                ],
                "properties": {
                  "header": {
                    "$ref": "#/components/schemas/CsvHeader"
                  }
                }
              }
            }
          }
        ]
      },
      "GdalDatasetGeoTransform": {
        "type": "object",
        "required": [
          "originCoordinate",
          "xPixelSize",
          "yPixelSize"
        ],
        "properties": {
          "originCoordinate": {
            "$ref": "#/components/schemas/Coordinate2D"
          },
          "xPixelSize": {
            "type": "number",
            "format": "double"
          },
          "yPixelSize": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "GdalDatasetParameters": {
        "type": "object",
        "description": "Parameters for loading data using Gdal",
        "required": [
          "filePath",
          "rasterbandChannel",
          "geoTransform",
          "width",
          "height",
          "fileNotFoundHandling"
        ],
        "properties": {
          "allowAlphabandAsMask": {
            "type": "boolean"
          },
          "fileNotFoundHandling": {
            "$ref": "#/components/schemas/FileNotFoundHandling"
          },
          "filePath": {
            "type": "string"
          },
          "gdalConfigOptions": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/components/schemas/StringPair"
            }
          },
          "gdalOpenOptions": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "geoTransform": {
            "$ref": "#/components/schemas/GdalDatasetGeoTransform"
          },
          "height": {
            "type": "integer",
            "minimum": 0
          },
          "noDataValue": {
            "type": [
              "number",
              "null"
            ],
            "format": "double"
          },
          "propertiesMapping": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/components/schemas/GdalMetadataMapping"
            }
          },
          "rasterbandChannel": {
            "type": "integer",
            "minimum": 0
          },
          "width": {
            "type": "integer",
            "minimum": 0
          }
        }
      },
      "GdalLoadingInfoTemporalSlice": {
        "type": "object",
        "description": "one temporal slice of the dataset that requires reading from exactly one Gdal dataset",
        "required": [
          "time"
        ],
        "properties": {
          "cacheTtl": {
            "$ref": "#/components/schemas/CacheTtlSeconds"
          },
          "params": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/GdalDatasetParameters"
              }
            ]
          },
          "time": {
            "$ref": "#/components/schemas/TimeInterval"
          }
        }
      },
      "GdalMetaDataList": {
        "type": "object",
        "required": [
          "type",
          "resultDescriptor",
          "params"
        ],
        "properties": {
          "params": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GdalLoadingInfoTemporalSlice"
            }
          },
          "resultDescriptor": {
            "$ref": "#/components/schemas/RasterResultDescriptor"
          },
          "type": {
            "type": "string",
            "enum": [
              "GdalMetaDataList"
            ]
          }
        }
      },
      "GdalMetaDataRegular": {
        "type": "object",
        "required": [
          "type",
          "resultDescriptor",
          "params",
          "timePlaceholders",
          "dataTime",
          "step"
        ],
        "properties": {
          "cacheTtl": {
            "$ref": "#/components/schemas/CacheTtlSeconds"
          },
          "dataTime": {
            "$ref": "#/components/schemas/TimeInterval"
          },
          "params": {
            "$ref": "#/components/schemas/GdalDatasetParameters"
          },
          "resultDescriptor": {
            "$ref": "#/components/schemas/RasterResultDescriptor"
          },
          "step": {
            "$ref": "#/components/schemas/TimeStep"
          },
          "timePlaceholders": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/GdalSourceTimePlaceholder"
            },
            "propertyNames": {
              "type": "string"
            }
          },
          "type": {
            "type": "string",
            "enum": [
              "GdalMetaDataRegular"
            ]
          }
        }
      },
      "GdalMetaDataStatic": {
        "type": "object",
        "required": [
          "type",
          "params",
          "resultDescriptor"
        ],
        "properties": {
          "cacheTtl": {
            "$ref": "#/components/schemas/CacheTtlSeconds"
          },
          "params": {
            "$ref": "#/components/schemas/GdalDatasetParameters"
          },
          "resultDescriptor": {
            "$ref": "#/components/schemas/RasterResultDescriptor"
          },
          "time": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TimeInterval"
              }
            ]
          },
          "type": {
            "type": "string",
            "enum": [
              "GdalStatic"
            ]
          }
        }
      },
      "GdalMetadataMapping": {
        "type": "object",
        "required": [
          "source_key",
          "target_key",
          "target_type"
        ],
        "properties": {
          "source_key": {
            "$ref": "#/components/schemas/RasterPropertiesKey"
          },
          "target_key": {
            "$ref": "#/components/schemas/RasterPropertiesKey"
          },
          "target_type": {
            "$ref": "#/components/schemas/RasterPropertiesEntryType"
          }
        }
      },
      "GdalMetadataNetCdfCf": {
        "type": "object",
        "description": "Meta data for 4D `NetCDF` CF datasets",
        "required": [
          "type",
          "resultDescriptor",
          "params",
          "start",
          "end",
          "step",
          "bandOffset"
        ],
        "properties": {
          "bandOffset": {
            "type": "integer",
            "description": "A band offset specifies the first band index to use for the first point in time.\nAll other time steps are added to this offset.",
            "minimum": 0
          },
          "cacheTtl": {
            "$ref": "#/components/schemas/CacheTtlSeconds"
          },
          "end": {
            "$ref": "#/components/schemas/TimeInstance",
            "description": "We use the end to specify the last, non-inclusive valid time point.\nQueries behind this point return no data.\nTODO: Alternatively, we could think about using the number of possible time steps in the future."
          },
          "params": {
            "$ref": "#/components/schemas/GdalDatasetParameters"
          },
          "resultDescriptor": {
            "$ref": "#/components/schemas/RasterResultDescriptor"
          },
          "start": {
            "$ref": "#/components/schemas/TimeInstance"
          },
          "step": {
            "$ref": "#/components/schemas/TimeStep"
          },
          "type": {
            "type": "string",
            "enum": [
              "GdalMetaDataNetCdfCf"
            ]
          }
        }
      },
      "GdalSourceTimePlaceholder": {
        "type": "object",
        "required": [
          "format",
          "reference"
        ],
        "properties": {
          "format": {
            "$ref": "#/components/schemas/DateTimeParseFormat"
          },
          "reference": {
            "$ref": "#/components/schemas/TimeReference"
          }
        }
      },
      "GeoJson": {
        "type": "object",
        "required": [
          "type",
          "features"
        ],
        "properties": {
          "features": {
            "type": "array",
            "items": {}
          },
          "type": {
            "$ref": "#/components/schemas/CollectionType"
          }
        }
      },
      "GetCapabilitiesFormat": {
        "type": "string",
        "enum": [
          "text/xml"
        ]
      },
      "GetCapabilitiesRequest": {
        "type": "string",
        "enum": [
          "GetCapabilities"
        ]
      },
      "GetCoverageFormat": {
        "type": "string",
        "enum": [
          "image/tiff"
        ]
      },
      "GetCoverageRequest": {
        "type": "string",
        "enum": [
          "GetCoverage"
        ]
      },
      "GetFeatureRequest": {
        "type": "string",
        "enum": [
          "GetFeature"
        ]
      },
      "GetLegendGraphicRequest": {
        "type": "string",
        "enum": [
          "GetLegendGraphic"
        ]
      },
      "GetMapExceptionFormat": {
        "type": "string",
        "enum": [
          "XML",
          "JSON"
        ]
      },
      "GetMapFormat": {
        "type": "string",
        "enum": [
          "image/png"
        ]
      },
      "GetMapRequest": {
        "type": "string",
        "enum": [
          "GetMap"
        ]
      },
      "InternalDataId": {
        "type": "object",
        "required": [
          "type",
          "datasetId"
        ],
        "properties": {
          "datasetId": {
            "$ref": "#/components/schemas/DatasetId"
          },
          "type": {
            "type": "string",
            "enum": [
              "internal"
            ]
          }
        }
      },
      "Layer": {
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "workflow"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "id": {
            "$ref": "#/components/schemas/ProviderLayerId"
          },
          "metadata": {
            "type": "object",
            "description": "metadata used for loading the data",
            "additionalProperties": {
              "type": "string"
            },
            "propertyNames": {
              "type": "string"
            }
          },
          "name": {
            "type": "string"
          },
          "properties": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Property"
            },
            "description": "properties, for instance, to be rendered in the UI"
          },
          "symbology": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/Symbology"
              }
            ]
          },
          "workflow": {
            "$ref": "#/components/schemas/Workflow"
          }
        }
      },
      "LayerCollection": {
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "items",
          "properties"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "entryLabel": {
            "type": [
              "string",
              "null"
            ],
            "description": "a common label for the collection's entries, if there is any"
          },
          "id": {
            "$ref": "#/components/schemas/ProviderLayerCollectionId"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CollectionItem"
            }
          },
          "name": {
            "type": "string"
          },
          "properties": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Property"
            }
          }
        }
      },
      "LayerCollectionId": {
        "type": "string"
      },
      "LayerCollectionListing": {
        "type": "object",
        "required": [
          "type",
          "id",
          "name",
          "description"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "id": {
            "$ref": "#/components/schemas/ProviderLayerCollectionId"
          },
          "name": {
            "type": "string"
          },
          "properties": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Property"
            }
          },
          "type": {
            "type": "string",
            "enum": [
              "collection"
            ]
          }
        }
      },
      "LayerCollectionResource": {
        "type": "object",
        "required": [
          "type",
          "id"
        ],
        "properties": {
          "id": {
            "$ref": "#/components/schemas/LayerCollectionId"
          },
          "type": {
            "type": "string",
            "enum": [
              "layerCollection"
            ]
          }
        }
      },
      "LayerId": {
        "type": "string"
      },
      "LayerListing": {
        "type": "object",
        "required": [
          "type",
          "id",
          "name",
          "description"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "id": {
            "$ref": "#/components/schemas/ProviderLayerId"
          },
          "name": {
            "type": "string"
          },
          "properties": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Property"
            },
            "description": "properties, for instance, to be rendered in the UI"
          },
          "type": {
            "type": "string",
            "enum": [
              "layer"
            ]
          }
        }
      },
      "LayerResource": {
        "type": "object",
        "required": [
          "type",
          "id"
        ],
        "properties": {
          "id": {
            "$ref": "#/components/schemas/LayerId"
          },
          "type": {
            "type": "string",
            "enum": [
              "layer"
            ]
          }
        }
      },
      "LayerVisibility": {
        "type": "object",
        "required": [
          "data",
          "legend"
        ],
        "properties": {
          "data": {
            "type": "boolean"
          },
          "legend": {
            "type": "boolean"
          }
        }
      },
      "LineSymbology": {
        "type": "object",
        "required": [
          "type",
          "stroke",
          "autoSimplified"
        ],
        "properties": {
          "autoSimplified": {
            "type": "boolean"
          },
          "stroke": {
            "$ref": "#/components/schemas/StrokeParam"
          },
          "text": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TextSymbology"
              }
            ]
          },
          "type": {
            "type": "string",
            "enum": [
              "line"
            ]
          }
        }
      },
      "LinearGradient": {
        "type": "object",
        "required": [
          "type",
          "breakpoints",
          "noDataColor",
          "overColor",
          "underColor"
        ],
        "properties": {
          "breakpoints": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Breakpoint"
            }
          },
          "noDataColor": {
            "$ref": "#/components/schemas/RgbaColor"
          },
          "overColor": {
            "$ref": "#/components/schemas/RgbaColor"
          },
          "type": {
            "type": "string",
            "enum": [
              "linearGradient"
            ]
          },
          "underColor": {
            "$ref": "#/components/schemas/RgbaColor"
          }
        }
      },
      "LogarithmicGradient": {
        "type": "object",
        "required": [
          "type",
          "breakpoints",
          "noDataColor",
          "overColor",
          "underColor"
        ],
        "properties": {
          "breakpoints": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Breakpoint"
            }
          },
          "noDataColor": {
            "$ref": "#/components/schemas/RgbaColor"
          },
          "overColor": {
            "$ref": "#/components/schemas/RgbaColor"
          },
          "type": {
            "type": "string",
            "enum": [
              "logarithmicGradient"
            ]
          },
          "underColor": {
            "$ref": "#/components/schemas/RgbaColor"
          }
        }
      },
      "Measurement": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/UnitlessMeasurement"
          },
          {
            "$ref": "#/components/schemas/ContinuousMeasurement"
          },
          {
            "$ref": "#/components/schemas/ClassificationMeasurement"
          }
        ],
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "classification": "#/components/schemas/ClassificationMeasurement",
            "continuous": "#/components/schemas/ContinuousMeasurement",
            "unitless": "#/components/schemas/UnitlessMeasurement"
          }
        }
      },
      "MetaDataDefinition": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/MockMetaData"
          },
          {
            "$ref": "#/components/schemas/OgrMetaData"
          },
          {
            "$ref": "#/components/schemas/GdalMetaDataRegular"
          },
          {
            "$ref": "#/components/schemas/GdalMetaDataStatic"
          },
          {
            "$ref": "#/components/schemas/GdalMetadataNetCdfCf"
          },
          {
            "$ref": "#/components/schemas/GdalMetaDataList"
          }
        ],
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "GdalMetaDataList": "#/components/schemas/GdalMetaDataList",
            "GdalMetaDataNetCdfCf": "#/components/schemas/GdalMetadataNetCdfCf",
            "GdalMetaDataRegular": "#/components/schemas/GdalMetaDataRegular",
            "GdalStatic": "#/components/schemas/GdalMetaDataStatic",
            "MockMetaData": "#/components/schemas/MockMetaData",
            "OgrMetaData": "#/components/schemas/OgrMetaData"
          }
        }
      },
      "MetaDataSuggestion": {
        "type": "object",
        "required": [
          "mainFile",
          "layerName",
          "metaData"
        ],
        "properties": {
          "layerName": {
            "type": "string"
          },
          "mainFile": {
            "type": "string"
          },
          "metaData": {
            "$ref": "#/components/schemas/MetaDataDefinition"
          }
        }
      },
      "MlModel": {
        "type": "object",
        "required": [
          "name",
          "displayName",
          "description",
          "upload",
          "metadata"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "displayName": {
            "type": "string"
          },
          "metadata": {
            "$ref": "#/components/schemas/MlModelMetadata"
          },
          "name": {
            "$ref": "#/components/schemas/MlModelName"
          },
          "upload": {
            "$ref": "#/components/schemas/UploadId"
          }
        }
      },
      "MlModelId": {
        "type": "string",
        "format": "uuid"
      },
      "MlModelMetadata": {
        "type": "object",
        "required": [
          "fileName",
          "inputType",
          "numInputBands",
          "outputType"
        ],
        "properties": {
          "fileName": {
            "type": "string"
          },
          "inputType": {
            "$ref": "#/components/schemas/RasterDataType"
          },
          "numInputBands": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "outputType": {
            "$ref": "#/components/schemas/RasterDataType"
          }
        }
      },
      "MlModelName": {
        "type": "string"
      },
      "MlModelNameResponse": {
        "type": "object",
        "required": [
          "mlModelName"
        ],
        "properties": {
          "mlModelName": {
            "$ref": "#/components/schemas/MlModelName"
          }
        }
      },
      "MlModelResource": {
        "type": "object",
        "required": [
          "type",
          "id"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "mlModel"
            ]
          }
        }
      },
      "MockDatasetDataSourceLoadingInfo": {
        "type": "object",
        "required": [
          "points"
        ],
        "properties": {
          "points": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Coordinate2D"
            }
          }
        }
      },
      "MockMetaData": {
        "type": "object",
        "required": [
          "type",
          "loadingInfo",
          "resultDescriptor"
        ],
        "properties": {
          "loadingInfo": {
            "$ref": "#/components/schemas/MockDatasetDataSourceLoadingInfo"
          },
          "resultDescriptor": {
            "$ref": "#/components/schemas/VectorResultDescriptor"
          },
          "type": {
            "type": "string",
            "enum": [
              "MockMetaData"
            ]
          }
        }
      },
      "MultiBandRasterColorizer": {
        "type": "object",
        "required": [
          "type",
          "redBand",
          "redMin",
          "redMax",
          "greenBand",
          "greenMin",
          "greenMax",
          "blueBand",
          "blueMin",
          "blueMax"
        ],
        "properties": {
          "blueBand": {
            "type": "integer",
            "format": "int32",
            "description": "The band index of the blue channel.",
            "minimum": 0
          },
          "blueMax": {
            "type": "number",
            "format": "double",
            "description": "The maximum value for the red channel."
          },
          "blueMin": {
            "type": "number",
            "format": "double",
            "description": "The minimum value for the red channel."
          },
          "blueScale": {
            "type": "number",
            "format": "double",
            "description": "A scaling factor for the blue channel between 0 and 1."
          },
          "greenBand": {
            "type": "integer",
            "format": "int32",
            "description": "The band index of the green channel.",
            "minimum": 0
          },
          "greenMax": {
            "type": "number",
            "format": "double",
            "description": "The maximum value for the red channel."
          },
          "greenMin": {
            "type": "number",
            "format": "double",
            "description": "The minimum value for the red channel."
          },
          "greenScale": {
            "type": "number",
            "format": "double",
            "description": "A scaling factor for the green channel between 0 and 1."
          },
          "noDataColor": {
            "$ref": "#/components/schemas/RgbaColor",
            "description": "The color to use for no data values.\nIf not specified, the no data values will be transparent."
          },
          "redBand": {
            "type": "integer",
            "format": "int32",
            "description": "The band index of the red channel.",
            "minimum": 0
          },
          "redMax": {
            "type": "number",
            "format": "double",
            "description": "The maximum value for the red channel."
          },
          "redMin": {
            "type": "number",
            "format": "double",
            "description": "The minimum value for the red channel."
          },
          "redScale": {
            "type": "number",
            "format": "double",
            "description": "A scaling factor for the red channel between 0 and 1."
          },
          "type": {
            "type": "string",
            "enum": [
              "multiBand"
            ]
          }
        }
      },
      "MultiLineString": {
        "type": "object",
        "required": [
          "coordinates"
        ],
        "properties": {
          "coordinates": {
            "type": "array",
            "items": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/Coordinate2D"
              }
            }
          }
        }
      },
      "MultiPoint": {
        "type": "object",
        "required": [
          "coordinates"
        ],
        "properties": {
          "coordinates": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Coordinate2D"
            }
          }
        }
      },
      "MultiPolygon": {
        "type": "object",
        "required": [
          "polygons"
        ],
        "properties": {
          "polygons": {
            "type": "array",
            "items": {
              "type": "array",
              "items": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Coordinate2D"
                }
              }
            }
          }
        }
      },
      "NamedData": {
        "type": "string"
      },
      "NoGeometry": {
        "default": null
      },
      "NumberParam": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/StaticNumber"
          },
          {
            "$ref": "#/components/schemas/DerivedNumber"
          }
        ],
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "derived": "#/components/schemas/DerivedNumber",
            "static": "#/components/schemas/StaticNumber"
          }
        }
      },
      "OgcBoundingBox": {
        "type": "string"
      },
      "OgrMetaData": {
        "type": "object",
        "required": [
          "type",
          "loadingInfo",
          "resultDescriptor"
        ],
        "properties": {
          "loadingInfo": {
            "$ref": "#/components/schemas/OgrSourceDataset"
          },
          "resultDescriptor": {
            "$ref": "#/components/schemas/VectorResultDescriptor"
          },
          "type": {
            "type": "string",
            "enum": [
              "OgrMetaData"
            ]
          }
        }
      },
      "OgrSourceColumnSpec": {
        "type": "object",
        "required": [
          "x"
        ],
        "properties": {
          "bool": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "datetime": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "float": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "formatSpecifics": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/FormatSpecifics"
              }
            ]
          },
          "int": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "rename": {
            "type": [
              "object",
              "null"
            ],
            "additionalProperties": {
              "type": "string"
            },
            "propertyNames": {
              "type": "string"
            }
          },
          "text": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "x": {
            "type": "string"
          },
          "y": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "OgrSourceDataset": {
        "type": "object",
        "required": [
          "fileName",
          "layerName",
          "onError"
        ],
        "properties": {
          "attributeQuery": {
            "type": [
              "string",
              "null"
            ]
          },
          "cacheTtl": {
            "$ref": "#/components/schemas/CacheTtlSeconds"
          },
          "columns": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/OgrSourceColumnSpec"
              }
            ]
          },
          "dataType": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/VectorDataType"
              }
            ]
          },
          "defaultGeometry": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TypedGeometry"
              }
            ]
          },
          "fileName": {
            "type": "string"
          },
          "forceOgrSpatialFilter": {
            "type": "boolean"
          },
          "forceOgrTimeFilter": {
            "type": "boolean"
          },
          "layerName": {
            "type": "string"
          },
          "onError": {
            "$ref": "#/components/schemas/OgrSourceErrorSpec"
          },
          "sqlQuery": {
            "type": [
              "string",
              "null"
            ]
          },
          "time": {
            "$ref": "#/components/schemas/OgrSourceDatasetTimeType"
          }
        }
      },
      "OgrSourceDatasetTimeType": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/OgrSourceDatasetTimeTypeNone"
          },
          {
            "$ref": "#/components/schemas/OgrSourceDatasetTimeTypeStart"
          },
          {
            "$ref": "#/components/schemas/OgrSourceDatasetTimeTypeStartEnd"
          },
          {
            "$ref": "#/components/schemas/OgrSourceDatasetTimeTypeStartDuration"
          }
        ],
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "none": "#/components/schemas/OgrSourceDatasetTimeTypeNone",
            "start": "#/components/schemas/OgrSourceDatasetTimeTypeStart",
            "start+duration": "#/components/schemas/OgrSourceDatasetTimeTypeStartDuration",
            "start+end": "#/components/schemas/OgrSourceDatasetTimeTypeStartEnd"
          }
        }
      },
      "OgrSourceDatasetTimeTypeNone": {
        "type": "object",
        "required": [
          "type"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "none"
            ]
          }
        }
      },
      "OgrSourceDatasetTimeTypeStart": {
        "type": "object",
        "required": [
          "type",
          "startField",
          "startFormat",
          "duration"
        ],
        "properties": {
          "duration": {
            "$ref": "#/components/schemas/OgrSourceDurationSpec"
          },
          "startField": {
            "type": "string"
          },
          "startFormat": {
            "$ref": "#/components/schemas/OgrSourceTimeFormat"
          },
          "type": {
            "type": "string",
            "enum": [
              "start"
            ]
          }
        }
      },
      "OgrSourceDatasetTimeTypeStartDuration": {
        "type": "object",
        "required": [
          "type",
          "startField",
          "startFormat",
          "durationField"
        ],
        "properties": {
          "durationField": {
            "type": "string"
          },
          "startField": {
            "type": "string"
          },
          "startFormat": {
            "$ref": "#/components/schemas/OgrSourceTimeFormat"
          },
          "type": {
            "type": "string",
            "enum": [
              "start+duration"
            ]
          }
        }
      },
      "OgrSourceDatasetTimeTypeStartEnd": {
        "type": "object",
        "required": [
          "type",
          "startField",
          "startFormat",
          "endField",
          "endFormat"
        ],
        "properties": {
          "endField": {
            "type": "string"
          },
          "endFormat": {
            "$ref": "#/components/schemas/OgrSourceTimeFormat"
          },
          "startField": {
            "type": "string"
          },
          "startFormat": {
            "$ref": "#/components/schemas/OgrSourceTimeFormat"
          },
          "type": {
            "type": "string",
            "enum": [
              "start+end"
            ]
          }
        }
      },
      "OgrSourceDurationSpec": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/OgrSourceDurationSpecInfinite"
          },
          {
            "$ref": "#/components/schemas/OgrSourceDurationSpecZero"
          },
          {
            "$ref": "#/components/schemas/OgrSourceDurationSpecValue"
          }
        ],
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "infinite": "#/components/schemas/OgrSourceDurationSpecInfinite",
            "value": "#/components/schemas/OgrSourceDurationSpecValue",
            "zero": "#/components/schemas/OgrSourceDurationSpecZero"
          }
        }
      },
      "OgrSourceDurationSpecInfinite": {
        "type": "object",
        "required": [
          "type"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "infinite"
            ]
          }
        }
      },
      "OgrSourceDurationSpecValue": {
        "allOf": [
          {
            "$ref": "#/components/schemas/TimeStep"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "value"
                ]
              }
            }
          }
        ]
      },
      "OgrSourceDurationSpecZero": {
        "type": "object",
        "required": [
          "type"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "zero"
            ]
          }
        }
      },
      "OgrSourceErrorSpec": {
        "type": "string",
        "enum": [
          "ignore",
          "abort"
        ]
      },
      "OgrSourceTimeFormat": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/OgrSourceTimeFormatCustom"
          },
          {
            "$ref": "#/components/schemas/OgrSourceTimeFormatUnixTimeStamp"
          },
          {
            "$ref": "#/components/schemas/OgrSourceTimeFormatAuto"
          }
        ],
        "discriminator": {
          "propertyName": "format",
          "mapping": {
            "auto": "#/components/schemas/OgrSourceTimeFormatAuto",
            "custom": "#/components/schemas/OgrSourceTimeFormatCustom",
            "unixTimeStamp": "#/components/schemas/OgrSourceTimeFormatUnixTimeStamp"
          }
        }
      },
      "OgrSourceTimeFormatAuto": {
        "type": "object",
        "required": [
          "format"
        ],
        "properties": {
          "format": {
            "type": "string",
            "enum": [
              "auto"
            ]
          }
        }
      },
      "OgrSourceTimeFormatCustom": {
        "type": "object",
        "required": [
          "format",
          "customFormat"
        ],
        "properties": {
          "customFormat": {
            "$ref": "#/components/schemas/DateTimeParseFormat"
          },
          "format": {
            "type": "string",
            "enum": [
              "custom"
            ]
          }
        }
      },
      "OgrSourceTimeFormatUnixTimeStamp": {
        "type": "object",
        "required": [
          "format",
          "timestampType"
        ],
        "properties": {
          "format": {
            "type": "string",
            "enum": [
              "unixTimeStamp"
            ]
          },
          "timestampType": {
            "$ref": "#/components/schemas/UnixTimeStampType"
          }
        }
      },
      "OperatorQuota": {
        "type": "object",
        "required": [
          "operatorName",
          "operatorPath",
          "count"
        ],
        "properties": {
          "count": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "operatorName": {
            "type": "string"
          },
          "operatorPath": {
            "type": "string"
          }
        }
      },
      "OrderBy": {
        "type": "string",
        "enum": [
          "NameAsc",
          "NameDesc"
        ]
      },
      "Palette": {
        "type": "object",
        "description": "A map from value to color\n\nIt is assumed that is has at least one and at most 256 entries.",
        "additionalProperties": {
          "$ref": "#/components/schemas/RgbaColor"
        },
        "propertyNames": {
          "type": "number",
          "format": "double"
        }
      },
      "PaletteColorizer": {
        "type": "object",
        "required": [
          "type",
          "colors",
          "noDataColor",
          "defaultColor"
        ],
        "properties": {
          "colors": {
            "$ref": "#/components/schemas/Palette"
          },
          "defaultColor": {
            "$ref": "#/components/schemas/RgbaColor"
          },
          "noDataColor": {
            "$ref": "#/components/schemas/RgbaColor"
          },
          "type": {
            "type": "string",
            "enum": [
              "palette"
            ]
          }
        }
      },
      "Permission": {
        "type": "string",
        "enum": [
          "Read",
          "Owner"
        ]
      },
      "PermissionListOptions": {
        "type": "object",
        "required": [
          "limit",
          "offset"
        ],
        "properties": {
          "limit": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "offset": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          }
        }
      },
      "PermissionListing": {
        "type": "object",
        "required": [
          "resource",
          "role",
          "permission"
        ],
        "properties": {
          "permission": {
            "$ref": "#/components/schemas/Permission"
          },
          "resource": {
            "$ref": "#/components/schemas/Resource"
          },
          "role": {
            "$ref": "#/components/schemas/Role"
          }
        }
      },
      "PermissionRequest": {
        "type": "object",
        "description": "Request for adding a new permission to the given role on the given resource",
        "required": [
          "resource",
          "roleId",
          "permission"
        ],
        "properties": {
          "permission": {
            "$ref": "#/components/schemas/Permission"
          },
          "resource": {
            "$ref": "#/components/schemas/Resource"
          },
          "roleId": {
            "$ref": "#/components/schemas/RoleId"
          }
        }
      },
      "Plot": {
        "type": "object",
        "required": [
          "workflow",
          "name"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "workflow": {
            "$ref": "#/components/schemas/WorkflowId"
          }
        }
      },
      "PlotOutputFormat": {
        "type": "string",
        "enum": [
          "JsonPlain",
          "JsonVega",
          "ImagePng"
        ]
      },
      "PlotQueryRectangle": {
        "type": "object",
        "description": "A spatio-temporal rectangle with a specified resolution",
        "required": [
          "spatialBounds",
          "timeInterval",
          "spatialResolution"
        ],
        "properties": {
          "spatialBounds": {
            "$ref": "#/components/schemas/BoundingBox2D"
          },
          "spatialResolution": {
            "$ref": "#/components/schemas/SpatialResolution"
          },
          "timeInterval": {
            "$ref": "#/components/schemas/TimeInterval"
          }
        }
      },
      "PlotResultDescriptor": {
        "type": "object",
        "description": "A `ResultDescriptor` for plot queries",
        "required": [
          "spatialReference"
        ],
        "properties": {
          "bbox": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/BoundingBox2D"
              }
            ]
          },
          "spatialReference": {
            "type": "string"
          },
          "time": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TimeInterval"
              }
            ]
          }
        }
      },
      "PointSymbology": {
        "type": "object",
        "required": [
          "type",
          "radius",
          "fillColor",
          "stroke"
        ],
        "properties": {
          "fillColor": {
            "$ref": "#/components/schemas/ColorParam"
          },
          "radius": {
            "$ref": "#/components/schemas/NumberParam"
          },
          "stroke": {
            "$ref": "#/components/schemas/StrokeParam"
          },
          "text": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TextSymbology"
              }
            ]
          },
          "type": {
            "type": "string",
            "enum": [
              "point"
            ]
          }
        }
      },
      "PolygonSymbology": {
        "type": "object",
        "required": [
          "type",
          "fillColor",
          "stroke",
          "autoSimplified"
        ],
        "properties": {
          "autoSimplified": {
            "type": "boolean"
          },
          "fillColor": {
            "$ref": "#/components/schemas/ColorParam"
          },
          "stroke": {
            "$ref": "#/components/schemas/StrokeParam"
          },
          "text": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TextSymbology"
              }
            ]
          },
          "type": {
            "type": "string",
            "enum": [
              "polygon"
            ]
          }
        }
      },
      "Project": {
        "type": "object",
        "required": [
          "id",
          "version",
          "name",
          "description",
          "layers",
          "plots",
          "bounds",
          "timeStep"
        ],
        "properties": {
          "bounds": {
            "$ref": "#/components/schemas/STRectangle"
          },
          "description": {
            "type": "string"
          },
          "id": {
            "$ref": "#/components/schemas/ProjectId"
          },
          "layers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProjectLayer"
            }
          },
          "name": {
            "type": "string"
          },
          "plots": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Plot"
            }
          },
          "timeStep": {
            "$ref": "#/components/schemas/TimeStep"
          },
          "version": {
            "$ref": "#/components/schemas/ProjectVersion"
          }
        }
      },
      "ProjectId": {
        "type": "string",
        "format": "uuid"
      },
      "ProjectLayer": {
        "type": "object",
        "required": [
          "workflow",
          "name",
          "visibility",
          "symbology"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "symbology": {
            "$ref": "#/components/schemas/Symbology"
          },
          "visibility": {
            "$ref": "#/components/schemas/LayerVisibility"
          },
          "workflow": {
            "$ref": "#/components/schemas/WorkflowId"
          }
        }
      },
      "ProjectListing": {
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "layerNames",
          "plotNames",
          "changed"
        ],
        "properties": {
          "changed": {
            "type": "string",
            "format": "date-time"
          },
          "description": {
            "type": "string"
          },
          "id": {
            "$ref": "#/components/schemas/ProjectId"
          },
          "layerNames": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "name": {
            "type": "string"
          },
          "plotNames": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "ProjectResource": {
        "type": "object",
        "required": [
          "type",
          "id"
        ],
        "properties": {
          "id": {
            "$ref": "#/components/schemas/ProjectId"
          },
          "type": {
            "type": "string",
            "enum": [
              "project"
            ]
          }
        }
      },
      "ProjectUpdateToken": {
        "type": "string",
        "enum": [
          "none",
          "delete"
        ]
      },
      "ProjectVersion": {
        "type": "object",
        "required": [
          "id",
          "changed"
        ],
        "properties": {
          "changed": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "$ref": "#/components/schemas/ProjectVersionId"
          }
        }
      },
      "ProjectVersionId": {
        "type": "string",
        "format": "uuid"
      },
      "Property": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "maxItems": 2,
        "minItems": 2
      },
      "Provenance": {
        "type": "object",
        "required": [
          "citation",
          "license",
          "uri"
        ],
        "properties": {
          "citation": {
            "type": "string"
          },
          "license": {
            "type": "string"
          },
          "uri": {
            "type": "string"
          }
        }
      },
      "ProvenanceEntry": {
        "type": "object",
        "required": [
          "provenance",
          "data"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DataId"
            }
          },
          "provenance": {
            "$ref": "#/components/schemas/Provenance"
          }
        }
      },
      "ProvenanceOutput": {
        "type": "object",
        "required": [
          "data"
        ],
        "properties": {
          "data": {
            "$ref": "#/components/schemas/DataId"
          },
          "provenance": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/components/schemas/Provenance"
            }
          }
        }
      },
      "Provenances": {
        "type": "object",
        "required": [
          "provenances"
        ],
        "properties": {
          "provenances": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Provenance"
            }
          }
        }
      },
      "ProviderCapabilities": {
        "type": "object",
        "required": [
          "listing",
          "search"
        ],
        "properties": {
          "listing": {
            "type": "boolean"
          },
          "search": {
            "$ref": "#/components/schemas/SearchCapabilities"
          }
        }
      },
      "ProviderLayerCollectionId": {
        "type": "object",
        "required": [
          "providerId",
          "collectionId"
        ],
        "properties": {
          "collectionId": {
            "$ref": "#/components/schemas/LayerCollectionId"
          },
          "providerId": {
            "$ref": "#/components/schemas/DataProviderId"
          }
        }
      },
      "ProviderLayerId": {
        "type": "object",
        "required": [
          "providerId",
          "layerId"
        ],
        "properties": {
          "layerId": {
            "$ref": "#/components/schemas/LayerId"
          },
          "providerId": {
            "$ref": "#/components/schemas/DataProviderId"
          }
        }
      },
      "Quota": {
        "type": "object",
        "required": [
          "available",
          "used"
        ],
        "properties": {
          "available": {
            "type": "integer",
            "format": "int64"
          },
          "used": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "RasterBandDescriptor": {
        "type": "object",
        "required": [
          "name",
          "measurement"
        ],
        "properties": {
          "measurement": {
            "$ref": "#/components/schemas/Measurement"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "RasterBandDescriptors": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/RasterBandDescriptor"
        }
      },
      "RasterColorizer": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/SingleBandRasterColorizer"
          },
          {
            "$ref": "#/components/schemas/MultiBandRasterColorizer"
          }
        ],
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "multiBand": "#/components/schemas/MultiBandRasterColorizer",
            "singleBand": "#/components/schemas/SingleBandRasterColorizer"
          }
        }
      },
      "RasterDataType": {
        "type": "string",
        "enum": [
          "U8",
          "U16",
          "U32",
          "U64",
          "I8",
          "I16",
          "I32",
          "I64",
          "F32",
          "F64"
        ]
      },
      "RasterDatasetFromWorkflow": {
        "type": "object",
        "description": "parameter for the dataset from workflow handler (body)",
        "required": [
          "displayName",
          "query"
        ],
        "properties": {
          "asCog": {
            "type": "boolean",
            "default": true
          },
          "description": {
            "type": [
              "string",
              "null"
            ]
          },
          "displayName": {
            "type": "string"
          },
          "name": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/DatasetName"
              }
            ]
          },
          "query": {
            "$ref": "#/components/schemas/RasterQueryRectangle"
          }
        },
        "example": {
          "name": "foo",
          "displayName": "a new dataset",
          "description": null,
          "query": {
            "spatialBounds": {
              "upperLeftCoordinate": {
                "x": -10.0,
                "y": 80.0
              },
              "lowerRightCoordinate": {
                "x": 50.0,
                "y": 20.0
              }
            },
            "timeInterval": {
              "start": 1388534400000,
              "end": 1388534401000
            },
            "spatialResolution": {
              "x": 0.1,
              "y": 0.1
            }
          }
        }
      },
      "RasterDatasetFromWorkflowResult": {
        "type": "object",
        "description": "response of the dataset from workflow handler",
        "required": [
          "dataset",
          "upload"
        ],
        "properties": {
          "dataset": {
            "$ref": "#/components/schemas/DatasetName"
          },
          "upload": {
            "$ref": "#/components/schemas/UploadId"
          }
        }
      },
      "RasterPropertiesEntryType": {
        "type": "string",
        "enum": [
          "Number",
          "String"
        ]
      },
      "RasterPropertiesKey": {
        "type": "object",
        "required": [
          "key"
        ],
        "properties": {
          "domain": {
            "type": [
              "string",
              "null"
            ]
          },
          "key": {
            "type": "string"
          }
        }
      },
      "RasterQueryRectangle": {
        "type": "object",
        "description": "A spatio-temporal rectangle with a specified resolution",
        "required": [
          "spatialBounds",
          "timeInterval",
          "spatialResolution"
        ],
        "properties": {
          "spatialBounds": {
            "$ref": "#/components/schemas/SpatialPartition2D"
          },
          "spatialResolution": {
            "$ref": "#/components/schemas/SpatialResolution"
          },
          "timeInterval": {
            "$ref": "#/components/schemas/TimeInterval"
          }
        }
      },
      "RasterResultDescriptor": {
        "type": "object",
        "description": "A `ResultDescriptor` for raster queries",
        "required": [
          "dataType",
          "spatialReference",
          "bands"
        ],
        "properties": {
          "bands": {
            "$ref": "#/components/schemas/RasterBandDescriptors"
          },
          "bbox": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/SpatialPartition2D"
              }
            ]
          },
          "dataType": {
            "$ref": "#/components/schemas/RasterDataType"
          },
          "resolution": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/SpatialResolution"
              }
            ]
          },
          "spatialReference": {
            "type": "string"
          },
          "time": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TimeInterval"
              }
            ]
          }
        }
      },
      "RasterStreamWebsocketResultType": {
        "type": "string",
        "description": "The stream result type for `raster_stream_websocket`.",
        "enum": [
          "arrow"
        ]
      },
      "RasterSymbology": {
        "type": "object",
        "required": [
          "type",
          "opacity",
          "rasterColorizer"
        ],
        "properties": {
          "opacity": {
            "type": "number",
            "format": "double"
          },
          "rasterColorizer": {
            "$ref": "#/components/schemas/RasterColorizer"
          },
          "type": {
            "type": "string",
            "enum": [
              "raster"
            ]
          }
        }
      },
      "Resource": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/LayerResource"
          },
          {
            "$ref": "#/components/schemas/LayerCollectionResource"
          },
          {
            "$ref": "#/components/schemas/ProjectResource"
          },
          {
            "$ref": "#/components/schemas/DatasetResource"
          },
          {
            "$ref": "#/components/schemas/MlModelResource"
          }
        ],
        "description": "A resource that is affected by a permission.",
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "dataset": "#/components/schemas/DatasetResource",
            "layer": "#/components/schemas/LayerResource",
            "layerCollection": "#/components/schemas/LayerCollectionResource",
            "mlModel": "#/components/schemas/MlModelResource",
            "project": "#/components/schemas/ProjectResource"
          }
        }
      },
      "RgbaColor": {
        "type": "array",
        "items": {
          "type": "integer"
        },
        "maxItems": 4,
        "minItems": 4
      },
      "Role": {
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "properties": {
          "id": {
            "$ref": "#/components/schemas/RoleId"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "RoleDescription": {
        "type": "object",
        "required": [
          "role",
          "individual"
        ],
        "properties": {
          "individual": {
            "type": "boolean"
          },
          "role": {
            "$ref": "#/components/schemas/Role"
          }
        }
      },
      "RoleId": {
        "type": "string",
        "format": "uuid"
      },
      "STRectangle": {
        "type": "object",
        "required": [
          "spatialReference",
          "boundingBox",
          "timeInterval"
        ],
        "properties": {
          "boundingBox": {
            "$ref": "#/components/schemas/BoundingBox2D"
          },
          "spatialReference": {
            "type": "string"
          },
          "timeInterval": {
            "$ref": "#/components/schemas/TimeInterval"
          }
        }
      },
      "SearchCapabilities": {
        "type": "object",
        "required": [
          "searchTypes",
          "autocomplete"
        ],
        "properties": {
          "autocomplete": {
            "type": "boolean"
          },
          "filters": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "searchTypes": {
            "$ref": "#/components/schemas/SearchTypes"
          }
        }
      },
      "SearchType": {
        "type": "string",
        "enum": [
          "fulltext",
          "prefix"
        ]
      },
      "SearchTypes": {
        "type": "object",
        "required": [
          "fulltext",
          "prefix"
        ],
        "properties": {
          "fulltext": {
            "type": "boolean"
          },
          "prefix": {
            "type": "boolean"
          }
        }
      },
      "ServerInfo": {
        "type": "object",
        "required": [
          "buildDate",
          "commitHash",
          "version",
          "features"
        ],
        "properties": {
          "buildDate": {
            "type": "string"
          },
          "commitHash": {
            "type": "string"
          },
          "features": {
            "type": "string"
          },
          "version": {
            "type": "string"
          }
        }
      },
      "SessionId": {
        "type": "string",
        "format": "uuid"
      },
      "SingleBandRasterColorizer": {
        "type": "object",
        "required": [
          "type",
          "band",
          "bandColorizer"
        ],
        "properties": {
          "band": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "bandColorizer": {
            "$ref": "#/components/schemas/Colorizer"
          },
          "type": {
            "type": "string",
            "enum": [
              "singleBand"
            ]
          }
        }
      },
      "SpatialPartition2D": {
        "type": "object",
        "description": "A partition of space that include the upper left but excludes the lower right coordinate",
        "required": [
          "upperLeftCoordinate",
          "lowerRightCoordinate"
        ],
        "properties": {
          "lowerRightCoordinate": {
            "$ref": "#/components/schemas/Coordinate2D"
          },
          "upperLeftCoordinate": {
            "$ref": "#/components/schemas/Coordinate2D"
          }
        }
      },
      "SpatialReferenceAuthority": {
        "type": "string",
        "description": "A spatial reference authority that is part of a spatial reference definition",
        "enum": [
          "EPSG",
          "SR-ORG",
          "IAU2000",
          "ESRI"
        ]
      },
      "SpatialReferenceSpecification": {
        "type": "object",
        "description": "The specification of a spatial reference, where extent and axis labels are given\nin natural order (x, y) = (east, north)",
        "required": [
          "name",
          "spatialReference",
          "projString",
          "extent"
        ],
        "properties": {
          "axisLabels": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/StringPair"
              }
            ]
          },
          "axisOrder": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/AxisOrder"
              }
            ]
          },
          "extent": {
            "$ref": "#/components/schemas/BoundingBox2D"
          },
          "name": {
            "type": "string"
          },
          "projString": {
            "type": "string"
          },
          "spatialReference": {
            "type": "string"
          }
        }
      },
      "SpatialResolution": {
        "type": "object",
        "description": "The spatial resolution in SRS units",
        "required": [
          "x",
          "y"
        ],
        "properties": {
          "x": {
            "type": "number",
            "format": "double"
          },
          "y": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "StaticColor": {
        "type": "object",
        "required": [
          "type",
          "color"
        ],
        "properties": {
          "color": {
            "$ref": "#/components/schemas/RgbaColor"
          },
          "type": {
            "type": "string",
            "enum": [
              "static"
            ]
          }
        }
      },
      "StaticNumber": {
        "type": "object",
        "required": [
          "type",
          "value"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "static"
            ]
          },
          "value": {
            "type": "integer",
            "minimum": 0
          }
        }
      },
      "StringPair": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "maxItems": 2,
        "minItems": 2
      },
      "StrokeParam": {
        "type": "object",
        "required": [
          "width",
          "color"
        ],
        "properties": {
          "color": {
            "$ref": "#/components/schemas/ColorParam"
          },
          "width": {
            "$ref": "#/components/schemas/NumberParam"
          }
        }
      },
      "SuggestMetaData": {
        "type": "object",
        "required": [
          "dataPath"
        ],
        "properties": {
          "dataPath": {
            "$ref": "#/components/schemas/DataPath"
          },
          "layerName": {
            "type": [
              "string",
              "null"
            ]
          },
          "mainFile": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "Symbology": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/RasterSymbology"
          },
          {
            "$ref": "#/components/schemas/PointSymbology"
          },
          {
            "$ref": "#/components/schemas/LineSymbology"
          },
          {
            "$ref": "#/components/schemas/PolygonSymbology"
          }
        ],
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "line": "#/components/schemas/LineSymbology",
            "point": "#/components/schemas/PointSymbology",
            "polygon": "#/components/schemas/PolygonSymbology",
            "raster": "#/components/schemas/RasterSymbology"
          }
        }
      },
      "TaskAbortOptions": {
        "type": "object",
        "properties": {
          "force": {
            "type": "boolean"
          }
        }
      },
      "TaskFilter": {
        "type": "string",
        "enum": [
          "running",
          "aborted",
          "failed",
          "completed"
        ]
      },
      "TaskId": {
        "type": "string",
        "format": "uuid"
      },
      "TaskListOptions": {
        "type": "object",
        "properties": {
          "filter": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TaskFilter"
              }
            ]
          },
          "limit": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "offset": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          }
        }
      },
      "TaskResponse": {
        "type": "object",
        "description": "Create a task somewhere and respond with a task id to query the task status.",
        "required": [
          "taskId"
        ],
        "properties": {
          "taskId": {
            "$ref": "#/components/schemas/TaskId"
          }
        }
      },
      "TaskStatus": {
        "oneOf": [
          {
            "type": "object",
            "title": "TaskStatusRunning",
            "required": [
              "status",
              "taskType",
              "pctComplete",
              "estimatedTimeRemaining",
              "timeStarted"
            ],
            "properties": {
              "description": {
                "type": "string"
              },
              "estimatedTimeRemaining": {
                "type": "string"
              },
              "info": {},
              "pctComplete": {
                "type": "string"
              },
              "status": {
                "type": "string",
                "enum": [
                  "running"
                ]
              },
              "taskType": {
                "type": "string"
              },
              "timeStarted": {
                "type": "string"
              }
            }
          },
          {
            "type": "object",
            "title": "TaskStatusCompleted",
            "required": [
              "status",
              "taskType",
              "timeTotal",
              "timeStarted"
            ],
            "properties": {
              "description": {
                "type": "string"
              },
              "info": {},
              "status": {
                "type": "string",
                "enum": [
                  "completed"
                ]
              },
              "taskType": {
                "type": "string"
              },
              "timeStarted": {
                "type": "string"
              },
              "timeTotal": {
                "type": "string"
              }
            }
          },
          {
            "type": "object",
            "title": "TaskStatusAborted",
            "required": [
              "status",
              "cleanUp"
            ],
            "properties": {
              "cleanUp": {},
              "status": {
                "type": "string",
                "enum": [
                  "aborted"
                ]
              }
            }
          },
          {
            "type": "object",
            "title": "TaskStatusFailed",
            "required": [
              "status",
              "error",
              "cleanUp"
            ],
            "properties": {
              "cleanUp": {},
              "error": {},
              "status": {
                "type": "string",
                "enum": [
                  "failed"
                ]
              }
            }
          }
        ],
        "discriminator": {
          "propertyName": "status",
          "mapping": {
            "aborted": "TaskStatusAborted",
            "completed": "TaskStatusCompleted",
            "failed": "TaskStatusFailed",
            "running": "TaskStatusRunning"
          }
        }
      },
      "TaskStatusWithId": {
        "allOf": [
          {
            "$ref": "#/components/schemas/TaskStatus"
          },
          {
            "type": "object",
            "required": [
              "taskId"
            ],
            "properties": {
              "taskId": {
                "$ref": "#/components/schemas/TaskId"
              }
            }
          }
        ]
      },
      "TextSymbology": {
        "type": "object",
        "required": [
          "attribute",
          "fillColor",
          "stroke"
        ],
        "properties": {
          "attribute": {
            "type": "string"
          },
          "fillColor": {
            "$ref": "#/components/schemas/ColorParam"
          },
          "stroke": {
            "$ref": "#/components/schemas/StrokeParam"
          }
        }
      },
      "TimeGranularity": {
        "type": "string",
        "description": "A time granularity.",
        "enum": [
          "millis",
          "seconds",
          "minutes",
          "hours",
          "days",
          "months",
          "years"
        ]
      },
      "TimeInstance": {
        "type": "integer",
        "format": "int64"
      },
      "TimeInterval": {
        "type": "object",
        "description": "Stores time intervals in ms in close-open semantic [start, end)",
        "required": [
          "start",
          "end"
        ],
        "properties": {
          "end": {
            "$ref": "#/components/schemas/TimeInstance"
          },
          "start": {
            "$ref": "#/components/schemas/TimeInstance"
          }
        }
      },
      "TimeReference": {
        "type": "string",
        "enum": [
          "start",
          "end"
        ]
      },
      "TimeStep": {
        "type": "object",
        "required": [
          "granularity",
          "step"
        ],
        "properties": {
          "granularity": {
            "$ref": "#/components/schemas/TimeGranularity"
          },
          "step": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          }
        }
      },
      "TypeNames": {
        "type": "string"
      },
      "TypedGeometry": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "Data"
            ],
            "properties": {
              "Data": {
                "$ref": "#/components/schemas/NoGeometry"
              }
            }
          },
          {
            "type": "object",
            "required": [
              "MultiPoint"
            ],
            "properties": {
              "MultiPoint": {
                "$ref": "#/components/schemas/MultiPoint"
              }
            }
          },
          {
            "type": "object",
            "required": [
              "MultiLineString"
            ],
            "properties": {
              "MultiLineString": {
                "$ref": "#/components/schemas/MultiLineString"
              }
            }
          },
          {
            "type": "object",
            "required": [
              "MultiPolygon"
            ],
            "properties": {
              "MultiPolygon": {
                "$ref": "#/components/schemas/MultiPolygon"
              }
            }
          }
        ]
      },
      "TypedOperator": {
        "type": "object",
        "description": "An enum to differentiate between `Operator` variants",
        "required": [
          "type",
          "operator"
        ],
        "properties": {
          "operator": {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "params": {
                "type": "object"
              },
              "sources": {
                "type": "object"
              },
              "type": {
                "type": "string"
              }
            }
          },
          "type": {
            "type": "string",
            "enum": [
              "Vector",
              "Raster",
              "Plot"
            ]
          }
        },
        "examples": [
          {
            "type": "MockPointSource",
            "params": {
              "points": [
                {
                  "x": 0.0,
                  "y": 0.1
                },
                {
                  "x": 1.0,
                  "y": 1.1
                }
              ]
            }
          }
        ]
      },
      "TypedPlotResultDescriptor": {
        "allOf": [
          {
            "$ref": "#/components/schemas/PlotResultDescriptor"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "plot"
                ]
              }
            }
          }
        ]
      },
      "TypedRasterResultDescriptor": {
        "allOf": [
          {
            "$ref": "#/components/schemas/RasterResultDescriptor"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "raster"
                ]
              }
            }
          }
        ]
      },
      "TypedResultDescriptor": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/TypedPlotResultDescriptor"
          },
          {
            "$ref": "#/components/schemas/TypedRasterResultDescriptor"
          },
          {
            "$ref": "#/components/schemas/TypedVectorResultDescriptor"
          }
        ],
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "plot": "#/components/schemas/TypedPlotResultDescriptor",
            "raster": "#/components/schemas/TypedRasterResultDescriptor",
            "vector": "#/components/schemas/TypedVectorResultDescriptor"
          }
        }
      },
      "TypedVectorResultDescriptor": {
        "allOf": [
          {
            "$ref": "#/components/schemas/VectorResultDescriptor"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "vector"
                ]
              }
            }
          }
        ]
      },
      "UnitlessMeasurement": {
        "type": "object",
        "required": [
          "type"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "unitless"
            ]
          }
        }
      },
      "UnixTimeStampType": {
        "type": "string",
        "enum": [
          "epochSeconds",
          "epochMilliseconds"
        ]
      },
      "UpdateDataset": {
        "type": "object",
        "required": [
          "name",
          "display_name",
          "description",
          "tags"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "display_name": {
            "type": "string"
          },
          "name": {
            "$ref": "#/components/schemas/DatasetName"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "UpdateLayer": {
        "type": "object",
        "required": [
          "name",
          "description",
          "workflow"
        ],
        "properties": {
          "description": {
            "type": "string",
            "example": "Example layer description"
          },
          "metadata": {
            "type": "object",
            "description": "metadata used for loading the data",
            "additionalProperties": {
              "type": "string"
            },
            "propertyNames": {
              "type": "string"
            }
          },
          "name": {
            "type": "string",
            "example": "Example Layer"
          },
          "properties": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Property"
            },
            "description": "properties, for instance, to be rendered in the UI"
          },
          "symbology": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/Symbology"
              }
            ]
          },
          "workflow": {
            "$ref": "#/components/schemas/Workflow"
          }
        }
      },
      "UpdateLayerCollection": {
        "type": "object",
        "required": [
          "name",
          "description"
        ],
        "properties": {
          "description": {
            "type": "string",
            "example": "A description for an example collection"
          },
          "name": {
            "type": "string",
            "example": "Example Collection"
          },
          "properties": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Property"
            }
          }
        }
      },
      "UpdateProject": {
        "type": "object",
        "required": [
          "id"
        ],
        "properties": {
          "bounds": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/STRectangle"
              }
            ]
          },
          "description": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "$ref": "#/components/schemas/ProjectId"
          },
          "layers": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/components/schemas/VecUpdate"
            }
          },
          "name": {
            "type": [
              "string",
              "null"
            ]
          },
          "plots": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/components/schemas/VecUpdate"
            }
          },
          "timeStep": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TimeStep"
              }
            ]
          }
        },
        "example": {
          "id": "df4ad02e-0d61-4e29-90eb-dc1259c1f5b9",
          "name": "TestUpdate",
          "layers": [
            {
              "workflow": "100ee39c-761c-4218-9d85-ec861a8f3097",
              "name": "L1",
              "visibility": {
                "data": true,
                "legend": false
              },
              "symbology": {
                "type": "raster",
                "opacity": 1.0,
                "colorizer": {
                  "type": "linearGradient",
                  "breakpoints": [
                    {
                      "value": 1.0,
                      "color": [
                        255,
                        255,
                        255,
                        255
                      ]
                    },
                    {
                      "value": 2.0,
                      "color": [
                        0,
                        0,
                        0,
                        255
                      ]
                    }
                  ],
                  "noDataColor": [
                    0,
                    0,
                    0,
                    0
                  ],
                  "overColor": [
                    255,
                    255,
                    255,
                    255
                  ],
                  "underColor": [
                    0,
                    0,
                    0,
                    255
                  ]
                }
              }
            }
          ]
        }
      },
      "UpdateQuota": {
        "type": "object",
        "required": [
          "available"
        ],
        "properties": {
          "available": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "UploadFileLayersResponse": {
        "type": "object",
        "required": [
          "layers"
        ],
        "properties": {
          "layers": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "UploadFilesResponse": {
        "type": "object",
        "required": [
          "files"
        ],
        "properties": {
          "files": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "UploadId": {
        "type": "string",
        "format": "uuid"
      },
      "UsageSummaryGranularity": {
        "type": "string",
        "enum": [
          "minutes",
          "hours",
          "days",
          "months",
          "years"
        ]
      },
      "UserCredentials": {
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        },
        "example": {
          "email": "foo@example.com",
          "password": "secret123"
        }
      },
      "UserId": {
        "type": "string",
        "format": "uuid"
      },
      "UserInfo": {
        "type": "object",
        "required": [
          "id"
        ],
        "properties": {
          "email": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "$ref": "#/components/schemas/UserId"
          },
          "realName": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "UserRegistration": {
        "type": "object",
        "required": [
          "email",
          "password",
          "realName"
        ],
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "realName": {
            "type": "string"
          }
        },
        "example": {
          "email": "foo@example.com",
          "password": "secret123",
          "realName": "Foo Bar"
        }
      },
      "UserSession": {
        "type": "object",
        "required": [
          "id",
          "user",
          "created",
          "validUntil",
          "roles"
        ],
        "properties": {
          "created": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "$ref": "#/components/schemas/SessionId"
          },
          "project": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/ProjectId"
              }
            ]
          },
          "roles": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RoleId"
            }
          },
          "user": {
            "$ref": "#/components/schemas/UserInfo"
          },
          "validUntil": {
            "type": "string",
            "format": "date-time"
          },
          "view": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/STRectangle"
              }
            ]
          }
        }
      },
      "VecUpdate": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/ProjectUpdateToken"
          },
          {
            "$ref": "#/components/schemas/Plot"
          }
        ]
      },
      "VectorColumnInfo": {
        "type": "object",
        "required": [
          "dataType",
          "measurement"
        ],
        "properties": {
          "dataType": {
            "$ref": "#/components/schemas/FeatureDataType"
          },
          "measurement": {
            "$ref": "#/components/schemas/Measurement"
          }
        }
      },
      "VectorDataType": {
        "type": "string",
        "description": "An enum that contains all possible vector data types",
        "enum": [
          "Data",
          "MultiPoint",
          "MultiLineString",
          "MultiPolygon"
        ]
      },
      "VectorQueryRectangle": {
        "type": "object",
        "description": "A spatio-temporal rectangle with a specified resolution",
        "required": [
          "spatialBounds",
          "timeInterval",
          "spatialResolution"
        ],
        "properties": {
          "spatialBounds": {
            "$ref": "#/components/schemas/BoundingBox2D"
          },
          "spatialResolution": {
            "$ref": "#/components/schemas/SpatialResolution"
          },
          "timeInterval": {
            "$ref": "#/components/schemas/TimeInterval"
          }
        }
      },
      "VectorResultDescriptor": {
        "type": "object",
        "required": [
          "dataType",
          "spatialReference",
          "columns"
        ],
        "properties": {
          "bbox": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/BoundingBox2D"
              }
            ]
          },
          "columns": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/VectorColumnInfo"
            },
            "propertyNames": {
              "type": "string"
            }
          },
          "dataType": {
            "$ref": "#/components/schemas/VectorDataType"
          },
          "spatialReference": {
            "type": "string"
          },
          "time": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TimeInterval"
              }
            ]
          }
        }
      },
      "Volume": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "path": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "VolumeFileLayersResponse": {
        "type": "object",
        "required": [
          "layers"
        ],
        "properties": {
          "layers": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "VolumeName": {
        "type": "string"
      },
      "WcsBoundingbox": {
        "type": "object",
        "required": [
          "bbox"
        ],
        "properties": {
          "bbox": {
            "type": "array",
            "items": {
              "type": "number",
              "format": "double"
            }
          },
          "spatial_reference": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "WcsService": {
        "type": "string",
        "enum": [
          "WCS"
        ]
      },
      "WcsVersion": {
        "type": "string",
        "enum": [
          "1.1.0",
          "1.1.1"
        ]
      },
      "WfsResolution": {
        "type": "string"
      },
      "WfsService": {
        "type": "string",
        "enum": [
          "WFS"
        ]
      },
      "WfsVersion": {
        "type": "string",
        "enum": [
          "2.0.0"
        ]
      },
      "WmsService": {
        "type": "string",
        "enum": [
          "WMS"
        ]
      },
      "WmsVersion": {
        "type": "string",
        "enum": [
          "1.3.0"
        ]
      },
      "Workflow": {
        "allOf": [
          {
            "$ref": "#/components/schemas/TypedOperator"
          }
        ]
      },
      "WorkflowId": {
        "type": "string",
        "format": "uuid"
      },
      "WrappedPlotOutput": {
        "type": "object",
        "required": [
          "outputFormat",
          "plotType",
          "data"
        ],
        "properties": {
          "data": {
            "type": "object"
          },
          "outputFormat": {
            "$ref": "#/components/schemas/PlotOutputFormat"
          },
          "plotType": {
            "type": "string"
          }
        }
      }
    },
    "responses": {
      "BadRequestQueryResponse": {
        "description": "Bad request",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "examples": {
              "Missing field in query string": {
                "value": {
                  "error": "UnableToParseQueryString",
                  "message": "Unable to parse query string: missing field `offset`"
                }
              },
              "Number in query string contains letters": {
                "value": {
                  "error": "UnableToParseQueryString",
                  "message": "Unable to parse query string: invalid digit found in string"
                }
              }
            }
          }
        }
      },
      "IdResponse": {
        "description": "Id of generated resource",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "title": "IdResponse",
              "required": [
                "id"
              ],
              "properties": {
                "id": {
                  "type": "string",
                  "format": "uuid"
                }
              }
            },
            "example": {
              "id": "36574dc3-560a-4b09-9d22-d5945f2b8093"
            }
          }
        }
      },
      "PayloadTooLargeResponse": {
        "description": "Payload too large",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "examples": {
              "Known payload size": {
                "value": {
                  "error": "Overflow",
                  "message": "JSON payload (XXX bytes) is larger than allowed (limit: 2097152 bytes)."
                }
              },
              "Unknown payload size": {
                "value": {
                  "error": "Overflow",
                  "message": "JSON payload has exceeded limit (2097152 bytes)."
                }
              }
            }
          }
        }
      },
      "PngResponse": {
        "description": "PNG Image",
        "content": {
          "image/png": {
            "schema": {
              "type": "string",
              "format": "binary"
            }
          }
        }
      },
      "UnauthorizedAdminResponse": {
        "description": "Authorization failed",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "examples": {
              "Auth token does not correspond to an admin": {
                "value": {
                  "error": "Unauthorized",
                  "message": "Authorization error: Invalid admin token"
                }
              },
              "Authorization Header is missing": {
                "value": {
                  "error": "Unauthorized",
                  "message": "Authorization error: Header with authorization token not provided."
                }
              },
              "Authorization Scheme other than Bearer is used": {
                "value": {
                  "error": "Unauthorized",
                  "message": "Authorization error: Authentication scheme must be Bearer."
                }
              },
              "Provided auth token has an invalid format": {
                "value": {
                  "error": "Unauthorized",
                  "message": "Authorization error: Identifier does not have the right format."
                }
              },
              "Session id is invalid": {
                "value": {
                  "error": "Unauthorized",
                  "message": "Authorization error: The session id is invalid."
                }
              }
            }
          }
        }
      },
      "UnauthorizedUserResponse": {
        "description": "Authorization failed",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "examples": {
              "Authorization Header is missing": {
                "value": {
                  "error": "Unauthorized",
                  "message": "Authorization error: Header with authorization token not provided."
                }
              },
              "Authorization Scheme other than Bearer is used": {
                "value": {
                  "error": "Unauthorized",
                  "message": "Authorization error: Authentication scheme must be Bearer."
                }
              },
              "Provided auth token has an invalid format": {
                "value": {
                  "error": "Unauthorized",
                  "message": "Authorization error: Identifier does not have the right format."
                }
              },
              "Session id is invalid": {
                "value": {
                  "error": "Unauthorized",
                  "message": "Authorization error: The session id is invalid."
                }
              }
            }
          }
        }
      },
      "UnsupportedMediaTypeForJsonResponse": {
        "description": "Media type of application/json is expected",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "error": "UnsupportedMediaType",
              "message": "Unsupported content type header."
            }
          }
        }
      },
      "ZipResponse": {
        "description": "ZIP Archive",
        "content": {
          "application/zip": {
            "schema": {
              "type": "string",
              "format": "binary"
            }
          }
        }
      }
    },
    "securitySchemes": {
      "session_token": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "UUID",
        "description": "A valid session token can be obtained via the /anonymous or /login endpoints."
      }
    }
  },
  "externalDocs": {
    "url": "https://docs.geoengine.io",
    "description": "Geo Engine Docs"
  }
}
